{"asctime": "2025-09-03 19:41:41", "levelname": "INFO", "name": "uvicorn.error", "message": "Started server process [17368]", "color_message": "Started server process [\u001b[36m%d\u001b[0m]"}
{"asctime": "2025-09-03 19:41:41", "levelname": "INFO", "name": "uvicorn.error", "message": "Started server process [17368]", "color_message": "Started server process [\u001b[36m%d\u001b[0m]"}
{"asctime": "2025-09-03 19:41:41", "levelname": "INFO", "name": "uvicorn.error", "message": "Waiting for application startup."}
{"asctime": "2025-09-03 19:41:41", "levelname": "INFO", "name": "uvicorn.error", "message": "Waiting for application startup."}
{"asctime": "2025-09-03 19:41:41", "levelname": "INFO", "name": "uvicorn.error", "message": "Application startup complete."}
{"asctime": "2025-09-03 19:41:41", "levelname": "INFO", "name": "uvicorn.error", "message": "Application startup complete."}
{"asctime": "2025-09-03 19:42:00", "levelname": "INFO", "name": "uvicorn.error", "message": "Shutting down"}
{"asctime": "2025-09-03 19:42:00", "levelname": "INFO", "name": "uvicorn.error", "message": "Shutting down"}
{"asctime": "2025-09-03 19:42:00", "levelname": "INFO", "name": "uvicorn.error", "message": "Waiting for application shutdown."}
{"asctime": "2025-09-03 19:42:00", "levelname": "INFO", "name": "uvicorn.error", "message": "Waiting for application shutdown."}
{"asctime": "2025-09-03 19:42:00", "levelname": "INFO", "name": "uvicorn.error", "message": "Application shutdown complete."}
{"asctime": "2025-09-03 19:42:00", "levelname": "INFO", "name": "uvicorn.error", "message": "Application shutdown complete."}
{"asctime": "2025-09-03 19:42:00", "levelname": "INFO", "name": "uvicorn.error", "message": "Finished server process [17368]", "color_message": "Finished server process [\u001b[36m%d\u001b[0m]"}
{"asctime": "2025-09-03 19:42:00", "levelname": "INFO", "name": "uvicorn.error", "message": "Finished server process [17368]", "color_message": "Finished server process [\u001b[36m%d\u001b[0m]"}
{"asctime": "2025-09-03 19:44:44", "levelname": "INFO", "name": "httpx", "message": "HTTP Request: POST https://api.openai.com/v1/chat/completions \"HTTP/1.1 200 OK\"", "timestamp": "2025-09-03T14:44:44.614298+00:00"}
{"asctime": "2025-09-03 19:44:44", "levelname": "INFO", "name": "root", "message": "Request completed", "path": "/api/chat/patient/stream", "method": "POST", "status_code": 200, "process_time": "4587.68ms", "client_ip": "127.0.0.1", "timestamp": "2025-09-03T14:44:44.763493+00:00"}
{"asctime": "2025-09-03 19:44:44", "levelname": "INFO", "name": "uvicorn.access", "message": "127.0.0.1:50444 - \"POST /api/chat/patient/stream HTTP/1.1\" 200", "timestamp": "2025-09-03T14:44:44.764626+00:00"}
{"asctime": "2025-09-03 19:45:05", "levelname": "INFO", "name": "root", "message": "Request completed", "path": "/api/chat/patient/stream", "method": "OPTIONS", "status_code": 200, "process_time": "0.48ms", "client_ip": "127.0.0.1", "timestamp": "2025-09-03T14:45:05.520905+00:00"}
{"asctime": "2025-09-03 19:45:05", "levelname": "INFO", "name": "uvicorn.access", "message": "127.0.0.1:59556 - \"OPTIONS /api/chat/patient/stream HTTP/1.1\" 200", "timestamp": "2025-09-03T14:45:05.521866+00:00"}
{"asctime": "2025-09-03 19:45:07", "levelname": "INFO", "name": "httpx", "message": "HTTP Request: POST https://api.openai.com/v1/chat/completions \"HTTP/1.1 200 OK\"", "timestamp": "2025-09-03T14:45:07.731199+00:00"}
{"asctime": "2025-09-03 19:45:08", "levelname": "INFO", "name": "root", "message": "Request completed", "path": "/api/chat/patient/stream", "method": "POST", "status_code": 200, "process_time": "2867.74ms", "client_ip": "127.0.0.1", "timestamp": "2025-09-03T14:45:08.399071+00:00"}
{"asctime": "2025-09-03 19:45:08", "levelname": "INFO", "name": "uvicorn.access", "message": "127.0.0.1:59556 - \"POST /api/chat/patient/stream HTTP/1.1\" 200", "timestamp": "2025-09-03T14:45:08.400934+00:00"}
{"asctime": "2025-09-03 19:45:46", "levelname": "INFO", "name": "root", "message": "Request completed", "path": "/api/admin/articles", "method": "GET", "status_code": 500, "process_time": "5698.33ms", "client_ip": "127.0.0.1", "timestamp": "2025-09-03T14:45:46.801083+00:00"}
{"asctime": "2025-09-03 19:45:46", "levelname": "INFO", "name": "uvicorn.access", "message": "127.0.0.1:60778 - \"GET /api/admin/articles HTTP/1.1\" 500", "timestamp": "2025-09-03T14:45:46.802613+00:00"}
{"asctime": "2025-09-03 19:46:05", "levelname": "INFO", "name": "root", "message": "Request completed", "path": "/api/admin/articles", "method": "GET", "status_code": 200, "process_time": "18270.50ms", "client_ip": "127.0.0.1", "timestamp": "2025-09-03T14:46:05.079737+00:00"}
{"asctime": "2025-09-03 19:46:05", "levelname": "INFO", "name": "uvicorn.access", "message": "127.0.0.1:60778 - \"GET /api/admin/articles HTTP/1.1\" 200", "timestamp": "2025-09-03T14:46:05.081075+00:00"}
{"asctime": "2025-09-03 20:08:04", "levelname": "INFO", "name": "root", "message": "Request completed", "path": "/api/chat/patient/stream", "method": "OPTIONS", "status_code": 200, "process_time": "6.51ms", "client_ip": "127.0.0.1", "timestamp": "2025-09-03T15:08:04.895909+00:00"}
{"asctime": "2025-09-03 20:08:04", "levelname": "INFO", "name": "uvicorn.access", "message": "127.0.0.1:52068 - \"OPTIONS /api/chat/patient/stream HTTP/1.1\" 200", "timestamp": "2025-09-03T15:08:04.906216+00:00"}
{"asctime": "2025-09-03 20:08:09", "levelname": "INFO", "name": "httpx", "message": "HTTP Request: POST https://api.openai.com/v1/chat/completions \"HTTP/1.1 200 OK\"", "timestamp": "2025-09-03T15:08:09.760154+00:00"}
{"asctime": "2025-09-03 20:08:09", "levelname": "INFO", "name": "root", "message": "Request completed", "path": "/api/chat/patient/stream", "method": "POST", "status_code": 200, "process_time": "4883.87ms", "client_ip": "127.0.0.1", "timestamp": "2025-09-03T15:08:09.803543+00:00"}
{"asctime": "2025-09-03 20:08:09", "levelname": "INFO", "name": "uvicorn.access", "message": "127.0.0.1:52068 - \"POST /api/chat/patient/stream HTTP/1.1\" 200", "timestamp": "2025-09-03T15:08:09.806237+00:00"}
{"asctime": "2025-09-03 21:19:06", "levelname": "INFO", "name": "root", "message": "Request completed", "path": "/api/auth/login", "method": "OPTIONS", "status_code": 200, "process_time": "40.15ms", "client_ip": "127.0.0.1", "timestamp": "2025-09-03T16:19:06.645889+00:00"}
{"asctime": "2025-09-03 21:19:06", "levelname": "INFO", "name": "uvicorn.access", "message": "127.0.0.1:56405 - \"OPTIONS /api/auth/login HTTP/1.1\" 200", "timestamp": "2025-09-03T16:19:06.698265+00:00"}
{"asctime": "2025-09-03 21:19:15", "levelname": "ERROR", "name": "root", "message": "Login error", "exc_info": "Traceback (most recent call last):\n  File \"C:\\Users\\user\\Desktop\\metamed_backend\\.venv\\Lib\\site-packages\\sqlalchemy\\engine\\base.py\", line 143, in __init__\n    self._dbapi_connection = engine.raw_connection()\n                             ~~~~~~~~~~~~~~~~~~~~~^^\n  File \"C:\\Users\\user\\Desktop\\metamed_backend\\.venv\\Lib\\site-packages\\sqlalchemy\\engine\\base.py\", line 3301, in raw_connection\n    return self.pool.connect()\n           ~~~~~~~~~~~~~~~~~^^\n  File \"C:\\Users\\user\\Desktop\\metamed_backend\\.venv\\Lib\\site-packages\\sqlalchemy\\pool\\base.py\", line 447, in connect\n    return _ConnectionFairy._checkout(self)\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^\n  File \"C:\\Users\\user\\Desktop\\metamed_backend\\.venv\\Lib\\site-packages\\sqlalchemy\\pool\\base.py\", line 1264, in _checkout\n    fairy = _ConnectionRecord.checkout(pool)\n  File \"C:\\Users\\user\\Desktop\\metamed_backend\\.venv\\Lib\\site-packages\\sqlalchemy\\pool\\base.py\", line 716, in checkout\n    with util.safe_reraise():\n         ~~~~~~~~~~~~~~~~~^^\n  File \"C:\\Users\\user\\Desktop\\metamed_backend\\.venv\\Lib\\site-packages\\sqlalchemy\\util\\langhelpers.py\", line 224, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n  File \"C:\\Users\\user\\Desktop\\metamed_backend\\.venv\\Lib\\site-packages\\sqlalchemy\\pool\\base.py\", line 714, in checkout\n    dbapi_connection = rec.get_connection()\n  File \"C:\\Users\\user\\Desktop\\metamed_backend\\.venv\\Lib\\site-packages\\sqlalchemy\\pool\\base.py\", line 865, in get_connection\n    self.__connect()\n    ~~~~~~~~~~~~~~^^\n  File \"C:\\Users\\user\\Desktop\\metamed_backend\\.venv\\Lib\\site-packages\\sqlalchemy\\pool\\base.py\", line 899, in __connect\n    with util.safe_reraise():\n         ~~~~~~~~~~~~~~~~~^^\n  File \"C:\\Users\\user\\Desktop\\metamed_backend\\.venv\\Lib\\site-packages\\sqlalchemy\\util\\langhelpers.py\", line 224, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n  File \"C:\\Users\\user\\Desktop\\metamed_backend\\.venv\\Lib\\site-packages\\sqlalchemy\\pool\\base.py\", line 895, in __connect\n    self.dbapi_connection = connection = pool._invoke_creator(self)\n                                         ~~~~~~~~~~~~~~~~~~~~^^^^^^\n  File \"C:\\Users\\user\\Desktop\\metamed_backend\\.venv\\Lib\\site-packages\\sqlalchemy\\engine\\create.py\", line 661, in connect\n    return dialect.connect(*cargs, **cparams)\n           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\user\\Desktop\\metamed_backend\\.venv\\Lib\\site-packages\\sqlalchemy\\engine\\default.py\", line 629, in connect\n    return self.loaded_dbapi.connect(*cargs, **cparams)  # type: ignore[no-any-return]  # NOQA: E501\n           ~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\user\\Desktop\\metamed_backend\\.venv\\Lib\\site-packages\\psycopg2\\__init__.py\", line 135, in connect\n    conn = _connect(dsn, connection_factory=connection_factory, **kwasync)\npsycopg2.OperationalError: could not translate host name \"medicaldatabasecredentials-do-user-24924231-0.j.db.ondigitalocean.com\" to address: Name or service not known\n\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"C:\\Users\\user\\Desktop\\metamed_backend\\api\\auth.py\", line 244, in login_for_access_token\n    user = authenticate_user(db, login_data.email, login_data.password, login_data.role)\n  File \"C:\\Users\\user\\Desktop\\metamed_backend\\api\\auth.py\", line 123, in authenticate_user\n    user = db.query(User).filter(User.email == email, User.role == role).first()\n  File \"C:\\Users\\user\\Desktop\\metamed_backend\\.venv\\Lib\\site-packages\\sqlalchemy\\orm\\query.py\", line 2759, in first\n    return self.limit(1)._iter().first()  # type: ignore\n           ~~~~~~~~~~~~~~~~~~~^^\n  File \"C:\\Users\\user\\Desktop\\metamed_backend\\.venv\\Lib\\site-packages\\sqlalchemy\\orm\\query.py\", line 2857, in _iter\n    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(\n                                                  ~~~~~~~~~~~~~~~~~~~~^\n        statement,\n        ^^^^^^^^^^\n        params,\n        ^^^^^^^\n        execution_options={\"_sa_orm_load_options\": self.load_options},\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"C:\\Users\\user\\Desktop\\metamed_backend\\.venv\\Lib\\site-packages\\sqlalchemy\\orm\\session.py\", line 2365, in execute\n    return self._execute_internal(\n           ~~~~~~~~~~~~~~~~~~~~~~^\n        statement,\n        ^^^^^^^^^^\n    ...<4 lines>...\n        _add_event=_add_event,\n        ^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"C:\\Users\\user\\Desktop\\metamed_backend\\.venv\\Lib\\site-packages\\sqlalchemy\\orm\\session.py\", line 2241, in _execute_internal\n    conn = self._connection_for_bind(bind)\n  File \"C:\\Users\\user\\Desktop\\metamed_backend\\.venv\\Lib\\site-packages\\sqlalchemy\\orm\\session.py\", line 2110, in _connection_for_bind\n    return trans._connection_for_bind(engine, execution_options)\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"<string>\", line 2, in _connection_for_bind\n  File \"C:\\Users\\user\\Desktop\\metamed_backend\\.venv\\Lib\\site-packages\\sqlalchemy\\orm\\state_changes.py\", line 137, in _go\n    ret_value = fn(self, *arg, **kw)\n  File \"C:\\Users\\user\\Desktop\\metamed_backend\\.venv\\Lib\\site-packages\\sqlalchemy\\orm\\session.py\", line 1189, in _connection_for_bind\n    conn = bind.connect()\n  File \"C:\\Users\\user\\Desktop\\metamed_backend\\.venv\\Lib\\site-packages\\sqlalchemy\\engine\\base.py\", line 3277, in connect\n    return self._connection_cls(self)\n           ~~~~~~~~~~~~~~~~~~~~^^^^^^\n  File \"C:\\Users\\user\\Desktop\\metamed_backend\\.venv\\Lib\\site-packages\\sqlalchemy\\engine\\base.py\", line 145, in __init__\n    Connection._handle_dbapi_exception_noconnection(\n    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n        err, dialect, engine\n        ^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"C:\\Users\\user\\Desktop\\metamed_backend\\.venv\\Lib\\site-packages\\sqlalchemy\\engine\\base.py\", line 2440, in _handle_dbapi_exception_noconnection\n    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e\n  File \"C:\\Users\\user\\Desktop\\metamed_backend\\.venv\\Lib\\site-packages\\sqlalchemy\\engine\\base.py\", line 143, in __init__\n    self._dbapi_connection = engine.raw_connection()\n                             ~~~~~~~~~~~~~~~~~~~~~^^\n  File \"C:\\Users\\user\\Desktop\\metamed_backend\\.venv\\Lib\\site-packages\\sqlalchemy\\engine\\base.py\", line 3301, in raw_connection\n    return self.pool.connect()\n           ~~~~~~~~~~~~~~~~~^^\n  File \"C:\\Users\\user\\Desktop\\metamed_backend\\.venv\\Lib\\site-packages\\sqlalchemy\\pool\\base.py\", line 447, in connect\n    return _ConnectionFairy._checkout(self)\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^\n  File \"C:\\Users\\user\\Desktop\\metamed_backend\\.venv\\Lib\\site-packages\\sqlalchemy\\pool\\base.py\", line 1264, in _checkout\n    fairy = _ConnectionRecord.checkout(pool)\n  File \"C:\\Users\\user\\Desktop\\metamed_backend\\.venv\\Lib\\site-packages\\sqlalchemy\\pool\\base.py\", line 716, in checkout\n    with util.safe_reraise():\n         ~~~~~~~~~~~~~~~~~^^\n  File \"C:\\Users\\user\\Desktop\\metamed_backend\\.venv\\Lib\\site-packages\\sqlalchemy\\util\\langhelpers.py\", line 224, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n  File \"C:\\Users\\user\\Desktop\\metamed_backend\\.venv\\Lib\\site-packages\\sqlalchemy\\pool\\base.py\", line 714, in checkout\n    dbapi_connection = rec.get_connection()\n  File \"C:\\Users\\user\\Desktop\\metamed_backend\\.venv\\Lib\\site-packages\\sqlalchemy\\pool\\base.py\", line 865, in get_connection\n    self.__connect()\n    ~~~~~~~~~~~~~~^^\n  File \"C:\\Users\\user\\Desktop\\metamed_backend\\.venv\\Lib\\site-packages\\sqlalchemy\\pool\\base.py\", line 899, in __connect\n    with util.safe_reraise():\n         ~~~~~~~~~~~~~~~~~^^\n  File \"C:\\Users\\user\\Desktop\\metamed_backend\\.venv\\Lib\\site-packages\\sqlalchemy\\util\\langhelpers.py\", line 224, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n  File \"C:\\Users\\user\\Desktop\\metamed_backend\\.venv\\Lib\\site-packages\\sqlalchemy\\pool\\base.py\", line 895, in __connect\n    self.dbapi_connection = connection = pool._invoke_creator(self)\n                                         ~~~~~~~~~~~~~~~~~~~~^^^^^^\n  File \"C:\\Users\\user\\Desktop\\metamed_backend\\.venv\\Lib\\site-packages\\sqlalchemy\\engine\\create.py\", line 661, in connect\n    return dialect.connect(*cargs, **cparams)\n           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\user\\Desktop\\metamed_backend\\.venv\\Lib\\site-packages\\sqlalchemy\\engine\\default.py\", line 629, in connect\n    return self.loaded_dbapi.connect(*cargs, **cparams)  # type: ignore[no-any-return]  # NOQA: E501\n           ~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\user\\Desktop\\metamed_backend\\.venv\\Lib\\site-packages\\psycopg2\\__init__.py\", line 135, in connect\n    conn = _connect(dsn, connection_factory=connection_factory, **kwasync)\nsqlalchemy.exc.OperationalError: (psycopg2.OperationalError) could not translate host name \"medicaldatabasecredentials-do-user-24924231-0.j.db.ondigitalocean.com\" to address: Name or service not known\n\n(Background on this error at: https://sqlalche.me/e/20/e3q8)", "error": "(psycopg2.OperationalError) could not translate host name \"medicaldatabasecredentials-do-user-24924231-0.j.db.ondigitalocean.com\" to address: Name or service not known\n\n(Background on this error at: https://sqlalche.me/e/20/e3q8)", "email": "alianahmed318@gmail.com", "client_ip": "127.0.0.1", "timestamp": "2025-09-03T16:19:15.660200+00:00"}
{"asctime": "2025-09-03 21:19:16", "levelname": "INFO", "name": "root", "message": "Request completed", "path": "/api/auth/login", "method": "POST", "status_code": 500, "process_time": "9332.67ms", "client_ip": "127.0.0.1", "timestamp": "2025-09-03T16:19:16.058391+00:00"}
{"asctime": "2025-09-03 21:19:16", "levelname": "INFO", "name": "uvicorn.access", "message": "127.0.0.1:53697 - \"POST /api/auth/login HTTP/1.1\" 500", "timestamp": "2025-09-03T16:19:16.059197+00:00"}
{"asctime": "2025-09-03 21:20:01", "levelname": "ERROR", "name": "root", "message": "Login error", "exc_info": "Traceback (most recent call last):\n  File \"C:\\Users\\user\\Desktop\\metamed_backend\\.venv\\Lib\\site-packages\\sqlalchemy\\engine\\base.py\", line 143, in __init__\n    self._dbapi_connection = engine.raw_connection()\n                             ~~~~~~~~~~~~~~~~~~~~~^^\n  File \"C:\\Users\\user\\Desktop\\metamed_backend\\.venv\\Lib\\site-packages\\sqlalchemy\\engine\\base.py\", line 3301, in raw_connection\n    return self.pool.connect()\n           ~~~~~~~~~~~~~~~~~^^\n  File \"C:\\Users\\user\\Desktop\\metamed_backend\\.venv\\Lib\\site-packages\\sqlalchemy\\pool\\base.py\", line 447, in connect\n    return _ConnectionFairy._checkout(self)\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^\n  File \"C:\\Users\\user\\Desktop\\metamed_backend\\.venv\\Lib\\site-packages\\sqlalchemy\\pool\\base.py\", line 1264, in _checkout\n    fairy = _ConnectionRecord.checkout(pool)\n  File \"C:\\Users\\user\\Desktop\\metamed_backend\\.venv\\Lib\\site-packages\\sqlalchemy\\pool\\base.py\", line 716, in checkout\n    with util.safe_reraise():\n         ~~~~~~~~~~~~~~~~~^^\n  File \"C:\\Users\\user\\Desktop\\metamed_backend\\.venv\\Lib\\site-packages\\sqlalchemy\\util\\langhelpers.py\", line 224, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n  File \"C:\\Users\\user\\Desktop\\metamed_backend\\.venv\\Lib\\site-packages\\sqlalchemy\\pool\\base.py\", line 714, in checkout\n    dbapi_connection = rec.get_connection()\n  File \"C:\\Users\\user\\Desktop\\metamed_backend\\.venv\\Lib\\site-packages\\sqlalchemy\\pool\\base.py\", line 836, in get_connection\n    self.__connect()\n    ~~~~~~~~~~~~~~^^\n  File \"C:\\Users\\user\\Desktop\\metamed_backend\\.venv\\Lib\\site-packages\\sqlalchemy\\pool\\base.py\", line 899, in __connect\n    with util.safe_reraise():\n         ~~~~~~~~~~~~~~~~~^^\n  File \"C:\\Users\\user\\Desktop\\metamed_backend\\.venv\\Lib\\site-packages\\sqlalchemy\\util\\langhelpers.py\", line 224, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n  File \"C:\\Users\\user\\Desktop\\metamed_backend\\.venv\\Lib\\site-packages\\sqlalchemy\\pool\\base.py\", line 895, in __connect\n    self.dbapi_connection = connection = pool._invoke_creator(self)\n                                         ~~~~~~~~~~~~~~~~~~~~^^^^^^\n  File \"C:\\Users\\user\\Desktop\\metamed_backend\\.venv\\Lib\\site-packages\\sqlalchemy\\engine\\create.py\", line 661, in connect\n    return dialect.connect(*cargs, **cparams)\n           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\user\\Desktop\\metamed_backend\\.venv\\Lib\\site-packages\\sqlalchemy\\engine\\default.py\", line 629, in connect\n    return self.loaded_dbapi.connect(*cargs, **cparams)  # type: ignore[no-any-return]  # NOQA: E501\n           ~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\user\\Desktop\\metamed_backend\\.venv\\Lib\\site-packages\\psycopg2\\__init__.py\", line 135, in connect\n    conn = _connect(dsn, connection_factory=connection_factory, **kwasync)\npsycopg2.OperationalError: could not translate host name \"medicaldatabasecredentials-do-user-24924231-0.j.db.ondigitalocean.com\" to address: Name or service not known\n\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"C:\\Users\\user\\Desktop\\metamed_backend\\api\\auth.py\", line 244, in login_for_access_token\n    user = authenticate_user(db, login_data.email, login_data.password, login_data.role)\n  File \"C:\\Users\\user\\Desktop\\metamed_backend\\api\\auth.py\", line 123, in authenticate_user\n    user = db.query(User).filter(User.email == email, User.role == role).first()\n  File \"C:\\Users\\user\\Desktop\\metamed_backend\\.venv\\Lib\\site-packages\\sqlalchemy\\orm\\query.py\", line 2759, in first\n    return self.limit(1)._iter().first()  # type: ignore\n           ~~~~~~~~~~~~~~~~~~~^^\n  File \"C:\\Users\\user\\Desktop\\metamed_backend\\.venv\\Lib\\site-packages\\sqlalchemy\\orm\\query.py\", line 2857, in _iter\n    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(\n                                                  ~~~~~~~~~~~~~~~~~~~~^\n        statement,\n        ^^^^^^^^^^\n        params,\n        ^^^^^^^\n        execution_options={\"_sa_orm_load_options\": self.load_options},\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"C:\\Users\\user\\Desktop\\metamed_backend\\.venv\\Lib\\site-packages\\sqlalchemy\\orm\\session.py\", line 2365, in execute\n    return self._execute_internal(\n           ~~~~~~~~~~~~~~~~~~~~~~^\n        statement,\n        ^^^^^^^^^^\n    ...<4 lines>...\n        _add_event=_add_event,\n        ^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"C:\\Users\\user\\Desktop\\metamed_backend\\.venv\\Lib\\site-packages\\sqlalchemy\\orm\\session.py\", line 2241, in _execute_internal\n    conn = self._connection_for_bind(bind)\n  File \"C:\\Users\\user\\Desktop\\metamed_backend\\.venv\\Lib\\site-packages\\sqlalchemy\\orm\\session.py\", line 2110, in _connection_for_bind\n    return trans._connection_for_bind(engine, execution_options)\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"<string>\", line 2, in _connection_for_bind\n  File \"C:\\Users\\user\\Desktop\\metamed_backend\\.venv\\Lib\\site-packages\\sqlalchemy\\orm\\state_changes.py\", line 137, in _go\n    ret_value = fn(self, *arg, **kw)\n  File \"C:\\Users\\user\\Desktop\\metamed_backend\\.venv\\Lib\\site-packages\\sqlalchemy\\orm\\session.py\", line 1189, in _connection_for_bind\n    conn = bind.connect()\n  File \"C:\\Users\\user\\Desktop\\metamed_backend\\.venv\\Lib\\site-packages\\sqlalchemy\\engine\\base.py\", line 3277, in connect\n    return self._connection_cls(self)\n           ~~~~~~~~~~~~~~~~~~~~^^^^^^\n  File \"C:\\Users\\user\\Desktop\\metamed_backend\\.venv\\Lib\\site-packages\\sqlalchemy\\engine\\base.py\", line 145, in __init__\n    Connection._handle_dbapi_exception_noconnection(\n    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n        err, dialect, engine\n        ^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"C:\\Users\\user\\Desktop\\metamed_backend\\.venv\\Lib\\site-packages\\sqlalchemy\\engine\\base.py\", line 2440, in _handle_dbapi_exception_noconnection\n    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e\n  File \"C:\\Users\\user\\Desktop\\metamed_backend\\.venv\\Lib\\site-packages\\sqlalchemy\\engine\\base.py\", line 143, in __init__\n    self._dbapi_connection = engine.raw_connection()\n                             ~~~~~~~~~~~~~~~~~~~~~^^\n  File \"C:\\Users\\user\\Desktop\\metamed_backend\\.venv\\Lib\\site-packages\\sqlalchemy\\engine\\base.py\", line 3301, in raw_connection\n    return self.pool.connect()\n           ~~~~~~~~~~~~~~~~~^^\n  File \"C:\\Users\\user\\Desktop\\metamed_backend\\.venv\\Lib\\site-packages\\sqlalchemy\\pool\\base.py\", line 447, in connect\n    return _ConnectionFairy._checkout(self)\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^\n  File \"C:\\Users\\user\\Desktop\\metamed_backend\\.venv\\Lib\\site-packages\\sqlalchemy\\pool\\base.py\", line 1264, in _checkout\n    fairy = _ConnectionRecord.checkout(pool)\n  File \"C:\\Users\\user\\Desktop\\metamed_backend\\.venv\\Lib\\site-packages\\sqlalchemy\\pool\\base.py\", line 716, in checkout\n    with util.safe_reraise():\n         ~~~~~~~~~~~~~~~~~^^\n  File \"C:\\Users\\user\\Desktop\\metamed_backend\\.venv\\Lib\\site-packages\\sqlalchemy\\util\\langhelpers.py\", line 224, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n  File \"C:\\Users\\user\\Desktop\\metamed_backend\\.venv\\Lib\\site-packages\\sqlalchemy\\pool\\base.py\", line 714, in checkout\n    dbapi_connection = rec.get_connection()\n  File \"C:\\Users\\user\\Desktop\\metamed_backend\\.venv\\Lib\\site-packages\\sqlalchemy\\pool\\base.py\", line 836, in get_connection\n    self.__connect()\n    ~~~~~~~~~~~~~~^^\n  File \"C:\\Users\\user\\Desktop\\metamed_backend\\.venv\\Lib\\site-packages\\sqlalchemy\\pool\\base.py\", line 899, in __connect\n    with util.safe_reraise():\n         ~~~~~~~~~~~~~~~~~^^\n  File \"C:\\Users\\user\\Desktop\\metamed_backend\\.venv\\Lib\\site-packages\\sqlalchemy\\util\\langhelpers.py\", line 224, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n  File \"C:\\Users\\user\\Desktop\\metamed_backend\\.venv\\Lib\\site-packages\\sqlalchemy\\pool\\base.py\", line 895, in __connect\n    self.dbapi_connection = connection = pool._invoke_creator(self)\n                                         ~~~~~~~~~~~~~~~~~~~~^^^^^^\n  File \"C:\\Users\\user\\Desktop\\metamed_backend\\.venv\\Lib\\site-packages\\sqlalchemy\\engine\\create.py\", line 661, in connect\n    return dialect.connect(*cargs, **cparams)\n           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\user\\Desktop\\metamed_backend\\.venv\\Lib\\site-packages\\sqlalchemy\\engine\\default.py\", line 629, in connect\n    return self.loaded_dbapi.connect(*cargs, **cparams)  # type: ignore[no-any-return]  # NOQA: E501\n           ~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\user\\Desktop\\metamed_backend\\.venv\\Lib\\site-packages\\psycopg2\\__init__.py\", line 135, in connect\n    conn = _connect(dsn, connection_factory=connection_factory, **kwasync)\nsqlalchemy.exc.OperationalError: (psycopg2.OperationalError) could not translate host name \"medicaldatabasecredentials-do-user-24924231-0.j.db.ondigitalocean.com\" to address: Name or service not known\n\n(Background on this error at: https://sqlalche.me/e/20/e3q8)", "error": "(psycopg2.OperationalError) could not translate host name \"medicaldatabasecredentials-do-user-24924231-0.j.db.ondigitalocean.com\" to address: Name or service not known\n\n(Background on this error at: https://sqlalche.me/e/20/e3q8)", "email": "alianahmed318@gmail.com", "client_ip": "127.0.0.1", "timestamp": "2025-09-03T16:20:01.597864+00:00"}
{"asctime": "2025-09-03 21:20:01", "levelname": "INFO", "name": "root", "message": "Request completed", "path": "/api/auth/login", "method": "POST", "status_code": 500, "process_time": "7856.37ms", "client_ip": "127.0.0.1", "timestamp": "2025-09-03T16:20:01.663303+00:00"}
{"asctime": "2025-09-03 21:20:01", "levelname": "INFO", "name": "uvicorn.access", "message": "127.0.0.1:52071 - \"POST /api/auth/login HTTP/1.1\" 500", "timestamp": "2025-09-03T16:20:01.664408+00:00"}
{"asctime": "2025-09-03 21:41:35", "levelname": "INFO", "name": "root", "message": "Request completed", "path": "/api/auth/login", "method": "OPTIONS", "status_code": 200, "process_time": "6.94ms", "client_ip": "127.0.0.1", "timestamp": "2025-09-03T16:41:35.011046+00:00"}
{"asctime": "2025-09-03 21:41:35", "levelname": "INFO", "name": "uvicorn.access", "message": "127.0.0.1:65235 - \"OPTIONS /api/auth/login HTTP/1.1\" 200", "timestamp": "2025-09-03T16:41:35.028919+00:00"}
{"asctime": "2025-09-03 21:41:42", "levelname": "ERROR", "name": "root", "message": "Login error", "exc_info": "Traceback (most recent call last):\n  File \"C:\\Users\\user\\Desktop\\metamed_backend\\.venv\\Lib\\site-packages\\sqlalchemy\\engine\\base.py\", line 143, in __init__\n    self._dbapi_connection = engine.raw_connection()\n                             ~~~~~~~~~~~~~~~~~~~~~^^\n  File \"C:\\Users\\user\\Desktop\\metamed_backend\\.venv\\Lib\\site-packages\\sqlalchemy\\engine\\base.py\", line 3301, in raw_connection\n    return self.pool.connect()\n           ~~~~~~~~~~~~~~~~~^^\n  File \"C:\\Users\\user\\Desktop\\metamed_backend\\.venv\\Lib\\site-packages\\sqlalchemy\\pool\\base.py\", line 447, in connect\n    return _ConnectionFairy._checkout(self)\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^\n  File \"C:\\Users\\user\\Desktop\\metamed_backend\\.venv\\Lib\\site-packages\\sqlalchemy\\pool\\base.py\", line 1264, in _checkout\n    fairy = _ConnectionRecord.checkout(pool)\n  File \"C:\\Users\\user\\Desktop\\metamed_backend\\.venv\\Lib\\site-packages\\sqlalchemy\\pool\\base.py\", line 716, in checkout\n    with util.safe_reraise():\n         ~~~~~~~~~~~~~~~~~^^\n  File \"C:\\Users\\user\\Desktop\\metamed_backend\\.venv\\Lib\\site-packages\\sqlalchemy\\util\\langhelpers.py\", line 224, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n  File \"C:\\Users\\user\\Desktop\\metamed_backend\\.venv\\Lib\\site-packages\\sqlalchemy\\pool\\base.py\", line 714, in checkout\n    dbapi_connection = rec.get_connection()\n  File \"C:\\Users\\user\\Desktop\\metamed_backend\\.venv\\Lib\\site-packages\\sqlalchemy\\pool\\base.py\", line 836, in get_connection\n    self.__connect()\n    ~~~~~~~~~~~~~~^^\n  File \"C:\\Users\\user\\Desktop\\metamed_backend\\.venv\\Lib\\site-packages\\sqlalchemy\\pool\\base.py\", line 899, in __connect\n    with util.safe_reraise():\n         ~~~~~~~~~~~~~~~~~^^\n  File \"C:\\Users\\user\\Desktop\\metamed_backend\\.venv\\Lib\\site-packages\\sqlalchemy\\util\\langhelpers.py\", line 224, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n  File \"C:\\Users\\user\\Desktop\\metamed_backend\\.venv\\Lib\\site-packages\\sqlalchemy\\pool\\base.py\", line 895, in __connect\n    self.dbapi_connection = connection = pool._invoke_creator(self)\n                                         ~~~~~~~~~~~~~~~~~~~~^^^^^^\n  File \"C:\\Users\\user\\Desktop\\metamed_backend\\.venv\\Lib\\site-packages\\sqlalchemy\\engine\\create.py\", line 661, in connect\n    return dialect.connect(*cargs, **cparams)\n           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\user\\Desktop\\metamed_backend\\.venv\\Lib\\site-packages\\sqlalchemy\\engine\\default.py\", line 629, in connect\n    return self.loaded_dbapi.connect(*cargs, **cparams)  # type: ignore[no-any-return]  # NOQA: E501\n           ~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\user\\Desktop\\metamed_backend\\.venv\\Lib\\site-packages\\psycopg2\\__init__.py\", line 135, in connect\n    conn = _connect(dsn, connection_factory=connection_factory, **kwasync)\npsycopg2.OperationalError: could not translate host name \"medicaldatabasecredentials-do-user-24924231-0.j.db.ondigitalocean.com\" to address: Name or service not known\n\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"C:\\Users\\user\\Desktop\\metamed_backend\\api\\auth.py\", line 244, in login_for_access_token\n    user = authenticate_user(db, login_data.email, login_data.password, login_data.role)\n  File \"C:\\Users\\user\\Desktop\\metamed_backend\\api\\auth.py\", line 123, in authenticate_user\n    user = db.query(User).filter(User.email == email, User.role == role).first()\n  File \"C:\\Users\\user\\Desktop\\metamed_backend\\.venv\\Lib\\site-packages\\sqlalchemy\\orm\\query.py\", line 2759, in first\n    return self.limit(1)._iter().first()  # type: ignore\n           ~~~~~~~~~~~~~~~~~~~^^\n  File \"C:\\Users\\user\\Desktop\\metamed_backend\\.venv\\Lib\\site-packages\\sqlalchemy\\orm\\query.py\", line 2857, in _iter\n    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(\n                                                  ~~~~~~~~~~~~~~~~~~~~^\n        statement,\n        ^^^^^^^^^^\n        params,\n        ^^^^^^^\n        execution_options={\"_sa_orm_load_options\": self.load_options},\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"C:\\Users\\user\\Desktop\\metamed_backend\\.venv\\Lib\\site-packages\\sqlalchemy\\orm\\session.py\", line 2365, in execute\n    return self._execute_internal(\n           ~~~~~~~~~~~~~~~~~~~~~~^\n        statement,\n        ^^^^^^^^^^\n    ...<4 lines>...\n        _add_event=_add_event,\n        ^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"C:\\Users\\user\\Desktop\\metamed_backend\\.venv\\Lib\\site-packages\\sqlalchemy\\orm\\session.py\", line 2241, in _execute_internal\n    conn = self._connection_for_bind(bind)\n  File \"C:\\Users\\user\\Desktop\\metamed_backend\\.venv\\Lib\\site-packages\\sqlalchemy\\orm\\session.py\", line 2110, in _connection_for_bind\n    return trans._connection_for_bind(engine, execution_options)\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"<string>\", line 2, in _connection_for_bind\n  File \"C:\\Users\\user\\Desktop\\metamed_backend\\.venv\\Lib\\site-packages\\sqlalchemy\\orm\\state_changes.py\", line 137, in _go\n    ret_value = fn(self, *arg, **kw)\n  File \"C:\\Users\\user\\Desktop\\metamed_backend\\.venv\\Lib\\site-packages\\sqlalchemy\\orm\\session.py\", line 1189, in _connection_for_bind\n    conn = bind.connect()\n  File \"C:\\Users\\user\\Desktop\\metamed_backend\\.venv\\Lib\\site-packages\\sqlalchemy\\engine\\base.py\", line 3277, in connect\n    return self._connection_cls(self)\n           ~~~~~~~~~~~~~~~~~~~~^^^^^^\n  File \"C:\\Users\\user\\Desktop\\metamed_backend\\.venv\\Lib\\site-packages\\sqlalchemy\\engine\\base.py\", line 145, in __init__\n    Connection._handle_dbapi_exception_noconnection(\n    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n        err, dialect, engine\n        ^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"C:\\Users\\user\\Desktop\\metamed_backend\\.venv\\Lib\\site-packages\\sqlalchemy\\engine\\base.py\", line 2440, in _handle_dbapi_exception_noconnection\n    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e\n  File \"C:\\Users\\user\\Desktop\\metamed_backend\\.venv\\Lib\\site-packages\\sqlalchemy\\engine\\base.py\", line 143, in __init__\n    self._dbapi_connection = engine.raw_connection()\n                             ~~~~~~~~~~~~~~~~~~~~~^^\n  File \"C:\\Users\\user\\Desktop\\metamed_backend\\.venv\\Lib\\site-packages\\sqlalchemy\\engine\\base.py\", line 3301, in raw_connection\n    return self.pool.connect()\n           ~~~~~~~~~~~~~~~~~^^\n  File \"C:\\Users\\user\\Desktop\\metamed_backend\\.venv\\Lib\\site-packages\\sqlalchemy\\pool\\base.py\", line 447, in connect\n    return _ConnectionFairy._checkout(self)\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^\n  File \"C:\\Users\\user\\Desktop\\metamed_backend\\.venv\\Lib\\site-packages\\sqlalchemy\\pool\\base.py\", line 1264, in _checkout\n    fairy = _ConnectionRecord.checkout(pool)\n  File \"C:\\Users\\user\\Desktop\\metamed_backend\\.venv\\Lib\\site-packages\\sqlalchemy\\pool\\base.py\", line 716, in checkout\n    with util.safe_reraise():\n         ~~~~~~~~~~~~~~~~~^^\n  File \"C:\\Users\\user\\Desktop\\metamed_backend\\.venv\\Lib\\site-packages\\sqlalchemy\\util\\langhelpers.py\", line 224, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n  File \"C:\\Users\\user\\Desktop\\metamed_backend\\.venv\\Lib\\site-packages\\sqlalchemy\\pool\\base.py\", line 714, in checkout\n    dbapi_connection = rec.get_connection()\n  File \"C:\\Users\\user\\Desktop\\metamed_backend\\.venv\\Lib\\site-packages\\sqlalchemy\\pool\\base.py\", line 836, in get_connection\n    self.__connect()\n    ~~~~~~~~~~~~~~^^\n  File \"C:\\Users\\user\\Desktop\\metamed_backend\\.venv\\Lib\\site-packages\\sqlalchemy\\pool\\base.py\", line 899, in __connect\n    with util.safe_reraise():\n         ~~~~~~~~~~~~~~~~~^^\n  File \"C:\\Users\\user\\Desktop\\metamed_backend\\.venv\\Lib\\site-packages\\sqlalchemy\\util\\langhelpers.py\", line 224, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n  File \"C:\\Users\\user\\Desktop\\metamed_backend\\.venv\\Lib\\site-packages\\sqlalchemy\\pool\\base.py\", line 895, in __connect\n    self.dbapi_connection = connection = pool._invoke_creator(self)\n                                         ~~~~~~~~~~~~~~~~~~~~^^^^^^\n  File \"C:\\Users\\user\\Desktop\\metamed_backend\\.venv\\Lib\\site-packages\\sqlalchemy\\engine\\create.py\", line 661, in connect\n    return dialect.connect(*cargs, **cparams)\n           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\user\\Desktop\\metamed_backend\\.venv\\Lib\\site-packages\\sqlalchemy\\engine\\default.py\", line 629, in connect\n    return self.loaded_dbapi.connect(*cargs, **cparams)  # type: ignore[no-any-return]  # NOQA: E501\n           ~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\user\\Desktop\\metamed_backend\\.venv\\Lib\\site-packages\\psycopg2\\__init__.py\", line 135, in connect\n    conn = _connect(dsn, connection_factory=connection_factory, **kwasync)\nsqlalchemy.exc.OperationalError: (psycopg2.OperationalError) could not translate host name \"medicaldatabasecredentials-do-user-24924231-0.j.db.ondigitalocean.com\" to address: Name or service not known\n\n(Background on this error at: https://sqlalche.me/e/20/e3q8)", "error": "(psycopg2.OperationalError) could not translate host name \"medicaldatabasecredentials-do-user-24924231-0.j.db.ondigitalocean.com\" to address: Name or service not known\n\n(Background on this error at: https://sqlalche.me/e/20/e3q8)", "email": "touseeqahmed2343@gmail.com", "client_ip": "127.0.0.1", "timestamp": "2025-09-03T16:41:42.690478+00:00"}
{"asctime": "2025-09-03 21:41:42", "levelname": "INFO", "name": "root", "message": "Request completed", "path": "/api/auth/login", "method": "POST", "status_code": 500, "process_time": "7731.11ms", "client_ip": "127.0.0.1", "timestamp": "2025-09-03T16:41:42.782051+00:00"}
{"asctime": "2025-09-03 21:41:42", "levelname": "INFO", "name": "uvicorn.access", "message": "127.0.0.1:58594 - \"POST /api/auth/login HTTP/1.1\" 500", "timestamp": "2025-09-03T16:41:42.783483+00:00"}
{"asctime": "2025-09-03 21:44:07", "levelname": "WARNING", "name": "passlib.handlers.bcrypt", "message": "(trapped) error reading bcrypt version", "exc_info": "Traceback (most recent call last):\n  File \"C:\\Users\\user\\Desktop\\metamed_backend\\.venv\\Lib\\site-packages\\passlib\\handlers\\bcrypt.py\", line 620, in _load_backend_mixin\n    version = _bcrypt.__about__.__version__\n              ^^^^^^^^^^^^^^^^^\nAttributeError: module 'bcrypt' has no attribute '__about__'", "timestamp": "2025-09-03T16:44:07.960590+00:00"}
{"asctime": "2025-09-03 21:44:08", "levelname": "ERROR", "name": "root", "message": "Login error", "exc_info": "Traceback (most recent call last):\n  File \"C:\\Users\\user\\Desktop\\metamed_backend\\.venv\\Lib\\site-packages\\jose\\jws.py\", line 164, in _sign_header_and_claims\n    key = jwk.construct(key, algorithm)\n  File \"C:\\Users\\user\\Desktop\\metamed_backend\\.venv\\Lib\\site-packages\\jose\\jwk.py\", line 79, in construct\n    return key_class(key_data, algorithm)\n  File \"C:\\Users\\user\\Desktop\\metamed_backend\\.venv\\Lib\\site-packages\\jose\\backends\\cryptography_backend.py\", line 538, in __init__\n    raise JWKError(\"Expecting a string- or bytes-formatted key.\")\njose.exceptions.JWKError: Expecting a string- or bytes-formatted key.\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"C:\\Users\\user\\Desktop\\metamed_backend\\api\\auth.py\", line 254, in login_for_access_token\n    access_token = create_access_token(\n        data={\"sub\": user.email, \"role\": user.role},\n        expires_delta=access_token_expires\n    )\n  File \"C:\\Users\\user\\Desktop\\metamed_backend\\api\\auth.py\", line 151, in create_access_token\n    encoded_jwt = jwt.encode(to_encode, SECRET_KEY, algorithm=ALGORITHM)\n  File \"C:\\Users\\user\\Desktop\\metamed_backend\\.venv\\Lib\\site-packages\\jose\\jwt.py\", line 63, in encode\n    return jws.sign(claims, key, headers=headers, algorithm=algorithm)\n           ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\user\\Desktop\\metamed_backend\\.venv\\Lib\\site-packages\\jose\\jws.py\", line 47, in sign\n    signed_output = _sign_header_and_claims(encoded_header, encoded_payload, algorithm, key)\n  File \"C:\\Users\\user\\Desktop\\metamed_backend\\.venv\\Lib\\site-packages\\jose\\jws.py\", line 167, in _sign_header_and_claims\n    raise JWSError(e)\njose.exceptions.JWSError: Expecting a string- or bytes-formatted key.", "error": "Expecting a string- or bytes-formatted key.", "email": "touseeqahmed2343@gmail.com", "client_ip": "127.0.0.1", "timestamp": "2025-09-03T16:44:08.780620+00:00"}
{"asctime": "2025-09-03 21:44:09", "levelname": "INFO", "name": "root", "message": "Request completed", "path": "/api/auth/login", "method": "POST", "status_code": 500, "process_time": "6772.78ms", "client_ip": "127.0.0.1", "timestamp": "2025-09-03T16:44:09.261570+00:00"}
{"asctime": "2025-09-03 21:44:09", "levelname": "INFO", "name": "uvicorn.access", "message": "127.0.0.1:57021 - \"POST /api/auth/login HTTP/1.1\" 500", "timestamp": "2025-09-03T16:44:09.262446+00:00"}
{"asctime": "2025-09-03 21:45:09", "levelname": "ERROR", "name": "root", "message": "Login error", "exc_info": "Traceback (most recent call last):\n  File \"C:\\Users\\user\\Desktop\\metamed_backend\\.venv\\Lib\\site-packages\\jose\\jws.py\", line 164, in _sign_header_and_claims\n    key = jwk.construct(key, algorithm)\n  File \"C:\\Users\\user\\Desktop\\metamed_backend\\.venv\\Lib\\site-packages\\jose\\jwk.py\", line 79, in construct\n    return key_class(key_data, algorithm)\n  File \"C:\\Users\\user\\Desktop\\metamed_backend\\.venv\\Lib\\site-packages\\jose\\backends\\cryptography_backend.py\", line 538, in __init__\n    raise JWKError(\"Expecting a string- or bytes-formatted key.\")\njose.exceptions.JWKError: Expecting a string- or bytes-formatted key.\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"C:\\Users\\user\\Desktop\\metamed_backend\\api\\auth.py\", line 254, in login_for_access_token\n    access_token = create_access_token(\n        data={\"sub\": user.email, \"role\": user.role},\n        expires_delta=access_token_expires\n    )\n  File \"C:\\Users\\user\\Desktop\\metamed_backend\\api\\auth.py\", line 151, in create_access_token\n    encoded_jwt = jwt.encode(to_encode, SECRET_KEY, algorithm=ALGORITHM)\n  File \"C:\\Users\\user\\Desktop\\metamed_backend\\.venv\\Lib\\site-packages\\jose\\jwt.py\", line 63, in encode\n    return jws.sign(claims, key, headers=headers, algorithm=algorithm)\n           ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\user\\Desktop\\metamed_backend\\.venv\\Lib\\site-packages\\jose\\jws.py\", line 47, in sign\n    signed_output = _sign_header_and_claims(encoded_header, encoded_payload, algorithm, key)\n  File \"C:\\Users\\user\\Desktop\\metamed_backend\\.venv\\Lib\\site-packages\\jose\\jws.py\", line 167, in _sign_header_and_claims\n    raise JWSError(e)\njose.exceptions.JWSError: Expecting a string- or bytes-formatted key.", "error": "Expecting a string- or bytes-formatted key.", "email": "touseeqahmed2343@gmail.com", "client_ip": "127.0.0.1", "timestamp": "2025-09-03T16:45:09.057393+00:00"}
{"asctime": "2025-09-03 21:45:09", "levelname": "INFO", "name": "root", "message": "Request completed", "path": "/api/auth/login", "method": "POST", "status_code": 500, "process_time": "3516.54ms", "client_ip": "127.0.0.1", "timestamp": "2025-09-03T16:45:09.330962+00:00"}
{"asctime": "2025-09-03 21:45:09", "levelname": "INFO", "name": "uvicorn.access", "message": "127.0.0.1:56595 - \"POST /api/auth/login HTTP/1.1\" 500", "timestamp": "2025-09-03T16:45:09.332697+00:00"}
{"asctime": "2025-09-03 21:46:37", "levelname": "WARNING", "name": "passlib.handlers.bcrypt", "message": "(trapped) error reading bcrypt version", "exc_info": "Traceback (most recent call last):\n  File \"C:\\Users\\user\\Desktop\\metamed_backend\\.venv\\Lib\\site-packages\\passlib\\handlers\\bcrypt.py\", line 620, in _load_backend_mixin\n    version = _bcrypt.__about__.__version__\n              ^^^^^^^^^^^^^^^^^\nAttributeError: module 'bcrypt' has no attribute '__about__'", "timestamp": "2025-09-03T16:46:37.919358+00:00"}
{"asctime": "2025-09-03 21:46:38", "levelname": "ERROR", "name": "root", "message": "Login error", "exc_info": "Traceback (most recent call last):\n  File \"C:\\Users\\user\\Desktop\\metamed_backend\\.venv\\Lib\\site-packages\\jose\\jws.py\", line 164, in _sign_header_and_claims\n    key = jwk.construct(key, algorithm)\n  File \"C:\\Users\\user\\Desktop\\metamed_backend\\.venv\\Lib\\site-packages\\jose\\jwk.py\", line 79, in construct\n    return key_class(key_data, algorithm)\n  File \"C:\\Users\\user\\Desktop\\metamed_backend\\.venv\\Lib\\site-packages\\jose\\backends\\cryptography_backend.py\", line 538, in __init__\n    raise JWKError(\"Expecting a string- or bytes-formatted key.\")\njose.exceptions.JWKError: Expecting a string- or bytes-formatted key.\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"C:\\Users\\user\\Desktop\\metamed_backend\\api\\auth.py\", line 254, in login_for_access_token\n    access_token = create_access_token(\n        data={\"sub\": user.email, \"role\": user.role},\n        expires_delta=access_token_expires\n    )\n  File \"C:\\Users\\user\\Desktop\\metamed_backend\\api\\auth.py\", line 151, in create_access_token\n    encoded_jwt = jwt.encode(to_encode, SECRET_KEY, algorithm=ALGORITHM)\n  File \"C:\\Users\\user\\Desktop\\metamed_backend\\.venv\\Lib\\site-packages\\jose\\jwt.py\", line 63, in encode\n    return jws.sign(claims, key, headers=headers, algorithm=algorithm)\n           ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\user\\Desktop\\metamed_backend\\.venv\\Lib\\site-packages\\jose\\jws.py\", line 47, in sign\n    signed_output = _sign_header_and_claims(encoded_header, encoded_payload, algorithm, key)\n  File \"C:\\Users\\user\\Desktop\\metamed_backend\\.venv\\Lib\\site-packages\\jose\\jws.py\", line 167, in _sign_header_and_claims\n    raise JWSError(e)\njose.exceptions.JWSError: Expecting a string- or bytes-formatted key.", "error": "Expecting a string- or bytes-formatted key.", "email": "touseeqahmed2343@gmail.com", "client_ip": "127.0.0.1", "timestamp": "2025-09-03T16:46:38.724929+00:00"}
{"asctime": "2025-09-03 21:46:39", "levelname": "INFO", "name": "root", "message": "Request completed", "path": "/api/auth/login", "method": "POST", "status_code": 500, "process_time": "8917.20ms", "client_ip": "127.0.0.1", "timestamp": "2025-09-03T16:46:39.192089+00:00"}
{"asctime": "2025-09-03 21:46:39", "levelname": "INFO", "name": "uvicorn.access", "message": "127.0.0.1:52041 - \"POST /api/auth/login HTTP/1.1\" 500", "timestamp": "2025-09-03T16:46:39.193316+00:00"}
{"asctime": "2025-09-03 21:49:07", "levelname": "WARNING", "name": "passlib.handlers.bcrypt", "message": "(trapped) error reading bcrypt version", "exc_info": "Traceback (most recent call last):\n  File \"C:\\Users\\user\\Desktop\\metamed_backend\\.venv\\Lib\\site-packages\\passlib\\handlers\\bcrypt.py\", line 620, in _load_backend_mixin\n    version = _bcrypt.__about__.__version__\n              ^^^^^^^^^^^^^^^^^\nAttributeError: module 'bcrypt' has no attribute '__about__'", "timestamp": "2025-09-03T16:49:07.998246+00:00"}
{"asctime": "2025-09-03 21:49:08", "levelname": "ERROR", "name": "root", "message": "Login error", "exc_info": "Traceback (most recent call last):\n  File \"C:\\Users\\user\\Desktop\\metamed_backend\\.venv\\Lib\\site-packages\\jose\\jws.py\", line 164, in _sign_header_and_claims\n    key = jwk.construct(key, algorithm)\n  File \"C:\\Users\\user\\Desktop\\metamed_backend\\.venv\\Lib\\site-packages\\jose\\jwk.py\", line 79, in construct\n    return key_class(key_data, algorithm)\n  File \"C:\\Users\\user\\Desktop\\metamed_backend\\.venv\\Lib\\site-packages\\jose\\backends\\cryptography_backend.py\", line 538, in __init__\n    raise JWKError(\"Expecting a string- or bytes-formatted key.\")\njose.exceptions.JWKError: Expecting a string- or bytes-formatted key.\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"C:\\Users\\user\\Desktop\\metamed_backend\\api\\auth.py\", line 254, in login_for_access_token\n    access_token = create_access_token(\n        data={\"sub\": user.email, \"role\": user.role},\n        expires_delta=access_token_expires\n    )\n  File \"C:\\Users\\user\\Desktop\\metamed_backend\\api\\auth.py\", line 151, in create_access_token\n    encoded_jwt = jwt.encode(to_encode, SECRET_KEY, algorithm=ALGORITHM)\n  File \"C:\\Users\\user\\Desktop\\metamed_backend\\.venv\\Lib\\site-packages\\jose\\jwt.py\", line 63, in encode\n    return jws.sign(claims, key, headers=headers, algorithm=algorithm)\n           ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\user\\Desktop\\metamed_backend\\.venv\\Lib\\site-packages\\jose\\jws.py\", line 47, in sign\n    signed_output = _sign_header_and_claims(encoded_header, encoded_payload, algorithm, key)\n  File \"C:\\Users\\user\\Desktop\\metamed_backend\\.venv\\Lib\\site-packages\\jose\\jws.py\", line 167, in _sign_header_and_claims\n    raise JWSError(e)\njose.exceptions.JWSError: Expecting a string- or bytes-formatted key.", "error": "Expecting a string- or bytes-formatted key.", "email": "touseeqahmed2343@gmail.com", "client_ip": "127.0.0.1", "timestamp": "2025-09-03T16:49:08.532795+00:00"}
{"asctime": "2025-09-03 21:49:08", "levelname": "INFO", "name": "root", "message": "Request completed", "path": "/api/auth/login", "method": "POST", "status_code": 500, "process_time": "8625.65ms", "client_ip": "127.0.0.1", "timestamp": "2025-09-03T16:49:08.833362+00:00"}
{"asctime": "2025-09-03 21:49:08", "levelname": "INFO", "name": "uvicorn.access", "message": "127.0.0.1:55762 - \"POST /api/auth/login HTTP/1.1\" 500", "timestamp": "2025-09-03T16:49:08.834416+00:00"}
{"asctime": "2025-09-03 21:51:27", "levelname": "ERROR", "name": "root", "message": "Login error", "exc_info": "Traceback (most recent call last):\n  File \"C:\\Users\\user\\Desktop\\metamed_backend\\.venv\\Lib\\site-packages\\sqlalchemy\\engine\\base.py\", line 143, in __init__\n    self._dbapi_connection = engine.raw_connection()\n                             ~~~~~~~~~~~~~~~~~~~~~^^\n  File \"C:\\Users\\user\\Desktop\\metamed_backend\\.venv\\Lib\\site-packages\\sqlalchemy\\engine\\base.py\", line 3301, in raw_connection\n    return self.pool.connect()\n           ~~~~~~~~~~~~~~~~~^^\n  File \"C:\\Users\\user\\Desktop\\metamed_backend\\.venv\\Lib\\site-packages\\sqlalchemy\\pool\\base.py\", line 447, in connect\n    return _ConnectionFairy._checkout(self)\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^\n  File \"C:\\Users\\user\\Desktop\\metamed_backend\\.venv\\Lib\\site-packages\\sqlalchemy\\pool\\base.py\", line 1264, in _checkout\n    fairy = _ConnectionRecord.checkout(pool)\n  File \"C:\\Users\\user\\Desktop\\metamed_backend\\.venv\\Lib\\site-packages\\sqlalchemy\\pool\\base.py\", line 711, in checkout\n    rec = pool._do_get()\n  File \"C:\\Users\\user\\Desktop\\metamed_backend\\.venv\\Lib\\site-packages\\sqlalchemy\\pool\\impl.py\", line 177, in _do_get\n    with util.safe_reraise():\n         ~~~~~~~~~~~~~~~~~^^\n  File \"C:\\Users\\user\\Desktop\\metamed_backend\\.venv\\Lib\\site-packages\\sqlalchemy\\util\\langhelpers.py\", line 224, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n  File \"C:\\Users\\user\\Desktop\\metamed_backend\\.venv\\Lib\\site-packages\\sqlalchemy\\pool\\impl.py\", line 175, in _do_get\n    return self._create_connection()\n           ~~~~~~~~~~~~~~~~~~~~~~~^^\n  File \"C:\\Users\\user\\Desktop\\metamed_backend\\.venv\\Lib\\site-packages\\sqlalchemy\\pool\\base.py\", line 388, in _create_connection\n    return _ConnectionRecord(self)\n  File \"C:\\Users\\user\\Desktop\\metamed_backend\\.venv\\Lib\\site-packages\\sqlalchemy\\pool\\base.py\", line 673, in __init__\n    self.__connect()\n    ~~~~~~~~~~~~~~^^\n  File \"C:\\Users\\user\\Desktop\\metamed_backend\\.venv\\Lib\\site-packages\\sqlalchemy\\pool\\base.py\", line 899, in __connect\n    with util.safe_reraise():\n         ~~~~~~~~~~~~~~~~~^^\n  File \"C:\\Users\\user\\Desktop\\metamed_backend\\.venv\\Lib\\site-packages\\sqlalchemy\\util\\langhelpers.py\", line 224, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n  File \"C:\\Users\\user\\Desktop\\metamed_backend\\.venv\\Lib\\site-packages\\sqlalchemy\\pool\\base.py\", line 895, in __connect\n    self.dbapi_connection = connection = pool._invoke_creator(self)\n                                         ~~~~~~~~~~~~~~~~~~~~^^^^^^\n  File \"C:\\Users\\user\\Desktop\\metamed_backend\\.venv\\Lib\\site-packages\\sqlalchemy\\engine\\create.py\", line 661, in connect\n    return dialect.connect(*cargs, **cparams)\n           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\user\\Desktop\\metamed_backend\\.venv\\Lib\\site-packages\\sqlalchemy\\engine\\default.py\", line 629, in connect\n    return self.loaded_dbapi.connect(*cargs, **cparams)  # type: ignore[no-any-return]  # NOQA: E501\n           ~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\user\\Desktop\\metamed_backend\\.venv\\Lib\\site-packages\\psycopg2\\__init__.py\", line 135, in connect\n    conn = _connect(dsn, connection_factory=connection_factory, **kwasync)\npsycopg2.OperationalError: could not translate host name \"medicaldatabasecredentials-do-user-24924231-0.j.db.ondigitalocean.com\" to address: Name or service not known\n\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"C:\\Users\\user\\Desktop\\metamed_backend\\api\\auth.py\", line 246, in login_for_access_token\n    user = authenticate_user(db, login_data.email, login_data.password, login_data.role)\n  File \"C:\\Users\\user\\Desktop\\metamed_backend\\api\\auth.py\", line 123, in authenticate_user\n    user = db.query(User).filter(User.email == email, User.role == role).first()\n  File \"C:\\Users\\user\\Desktop\\metamed_backend\\.venv\\Lib\\site-packages\\sqlalchemy\\orm\\query.py\", line 2759, in first\n    return self.limit(1)._iter().first()  # type: ignore\n           ~~~~~~~~~~~~~~~~~~~^^\n  File \"C:\\Users\\user\\Desktop\\metamed_backend\\.venv\\Lib\\site-packages\\sqlalchemy\\orm\\query.py\", line 2857, in _iter\n    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(\n                                                  ~~~~~~~~~~~~~~~~~~~~^\n        statement,\n        ^^^^^^^^^^\n        params,\n        ^^^^^^^\n        execution_options={\"_sa_orm_load_options\": self.load_options},\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"C:\\Users\\user\\Desktop\\metamed_backend\\.venv\\Lib\\site-packages\\sqlalchemy\\orm\\session.py\", line 2365, in execute\n    return self._execute_internal(\n           ~~~~~~~~~~~~~~~~~~~~~~^\n        statement,\n        ^^^^^^^^^^\n    ...<4 lines>...\n        _add_event=_add_event,\n        ^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"C:\\Users\\user\\Desktop\\metamed_backend\\.venv\\Lib\\site-packages\\sqlalchemy\\orm\\session.py\", line 2241, in _execute_internal\n    conn = self._connection_for_bind(bind)\n  File \"C:\\Users\\user\\Desktop\\metamed_backend\\.venv\\Lib\\site-packages\\sqlalchemy\\orm\\session.py\", line 2110, in _connection_for_bind\n    return trans._connection_for_bind(engine, execution_options)\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"<string>\", line 2, in _connection_for_bind\n  File \"C:\\Users\\user\\Desktop\\metamed_backend\\.venv\\Lib\\site-packages\\sqlalchemy\\orm\\state_changes.py\", line 137, in _go\n    ret_value = fn(self, *arg, **kw)\n  File \"C:\\Users\\user\\Desktop\\metamed_backend\\.venv\\Lib\\site-packages\\sqlalchemy\\orm\\session.py\", line 1189, in _connection_for_bind\n    conn = bind.connect()\n  File \"C:\\Users\\user\\Desktop\\metamed_backend\\.venv\\Lib\\site-packages\\sqlalchemy\\engine\\base.py\", line 3277, in connect\n    return self._connection_cls(self)\n           ~~~~~~~~~~~~~~~~~~~~^^^^^^\n  File \"C:\\Users\\user\\Desktop\\metamed_backend\\.venv\\Lib\\site-packages\\sqlalchemy\\engine\\base.py\", line 145, in __init__\n    Connection._handle_dbapi_exception_noconnection(\n    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n        err, dialect, engine\n        ^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"C:\\Users\\user\\Desktop\\metamed_backend\\.venv\\Lib\\site-packages\\sqlalchemy\\engine\\base.py\", line 2440, in _handle_dbapi_exception_noconnection\n    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e\n  File \"C:\\Users\\user\\Desktop\\metamed_backend\\.venv\\Lib\\site-packages\\sqlalchemy\\engine\\base.py\", line 143, in __init__\n    self._dbapi_connection = engine.raw_connection()\n                             ~~~~~~~~~~~~~~~~~~~~~^^\n  File \"C:\\Users\\user\\Desktop\\metamed_backend\\.venv\\Lib\\site-packages\\sqlalchemy\\engine\\base.py\", line 3301, in raw_connection\n    return self.pool.connect()\n           ~~~~~~~~~~~~~~~~~^^\n  File \"C:\\Users\\user\\Desktop\\metamed_backend\\.venv\\Lib\\site-packages\\sqlalchemy\\pool\\base.py\", line 447, in connect\n    return _ConnectionFairy._checkout(self)\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^\n  File \"C:\\Users\\user\\Desktop\\metamed_backend\\.venv\\Lib\\site-packages\\sqlalchemy\\pool\\base.py\", line 1264, in _checkout\n    fairy = _ConnectionRecord.checkout(pool)\n  File \"C:\\Users\\user\\Desktop\\metamed_backend\\.venv\\Lib\\site-packages\\sqlalchemy\\pool\\base.py\", line 711, in checkout\n    rec = pool._do_get()\n  File \"C:\\Users\\user\\Desktop\\metamed_backend\\.venv\\Lib\\site-packages\\sqlalchemy\\pool\\impl.py\", line 177, in _do_get\n    with util.safe_reraise():\n         ~~~~~~~~~~~~~~~~~^^\n  File \"C:\\Users\\user\\Desktop\\metamed_backend\\.venv\\Lib\\site-packages\\sqlalchemy\\util\\langhelpers.py\", line 224, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n  File \"C:\\Users\\user\\Desktop\\metamed_backend\\.venv\\Lib\\site-packages\\sqlalchemy\\pool\\impl.py\", line 175, in _do_get\n    return self._create_connection()\n           ~~~~~~~~~~~~~~~~~~~~~~~^^\n  File \"C:\\Users\\user\\Desktop\\metamed_backend\\.venv\\Lib\\site-packages\\sqlalchemy\\pool\\base.py\", line 388, in _create_connection\n    return _ConnectionRecord(self)\n  File \"C:\\Users\\user\\Desktop\\metamed_backend\\.venv\\Lib\\site-packages\\sqlalchemy\\pool\\base.py\", line 673, in __init__\n    self.__connect()\n    ~~~~~~~~~~~~~~^^\n  File \"C:\\Users\\user\\Desktop\\metamed_backend\\.venv\\Lib\\site-packages\\sqlalchemy\\pool\\base.py\", line 899, in __connect\n    with util.safe_reraise():\n         ~~~~~~~~~~~~~~~~~^^\n  File \"C:\\Users\\user\\Desktop\\metamed_backend\\.venv\\Lib\\site-packages\\sqlalchemy\\util\\langhelpers.py\", line 224, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n  File \"C:\\Users\\user\\Desktop\\metamed_backend\\.venv\\Lib\\site-packages\\sqlalchemy\\pool\\base.py\", line 895, in __connect\n    self.dbapi_connection = connection = pool._invoke_creator(self)\n                                         ~~~~~~~~~~~~~~~~~~~~^^^^^^\n  File \"C:\\Users\\user\\Desktop\\metamed_backend\\.venv\\Lib\\site-packages\\sqlalchemy\\engine\\create.py\", line 661, in connect\n    return dialect.connect(*cargs, **cparams)\n           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\user\\Desktop\\metamed_backend\\.venv\\Lib\\site-packages\\sqlalchemy\\engine\\default.py\", line 629, in connect\n    return self.loaded_dbapi.connect(*cargs, **cparams)  # type: ignore[no-any-return]  # NOQA: E501\n           ~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\user\\Desktop\\metamed_backend\\.venv\\Lib\\site-packages\\psycopg2\\__init__.py\", line 135, in connect\n    conn = _connect(dsn, connection_factory=connection_factory, **kwasync)\nsqlalchemy.exc.OperationalError: (psycopg2.OperationalError) could not translate host name \"medicaldatabasecredentials-do-user-24924231-0.j.db.ondigitalocean.com\" to address: Name or service not known\n\n(Background on this error at: https://sqlalche.me/e/20/e3q8)", "error": "(psycopg2.OperationalError) could not translate host name \"medicaldatabasecredentials-do-user-24924231-0.j.db.ondigitalocean.com\" to address: Name or service not known\n\n(Background on this error at: https://sqlalche.me/e/20/e3q8)", "email": "touseeqahmed2343@gmail.com", "client_ip": "127.0.0.1", "timestamp": "2025-09-03T16:51:27.592263+00:00"}
{"asctime": "2025-09-03 21:51:27", "levelname": "INFO", "name": "root", "message": "Request completed", "path": "/api/auth/login", "method": "POST", "status_code": 500, "process_time": "7440.42ms", "client_ip": "127.0.0.1", "timestamp": "2025-09-03T16:51:27.665683+00:00"}
{"asctime": "2025-09-03 21:51:27", "levelname": "INFO", "name": "uvicorn.access", "message": "127.0.0.1:59014 - \"POST /api/auth/login HTTP/1.1\" 500", "timestamp": "2025-09-03T16:51:27.667218+00:00"}
{"asctime": "2025-09-03 21:53:00", "levelname": "INFO", "name": "root", "message": "Request completed", "path": "/api/auth/login", "method": "OPTIONS", "status_code": 200, "process_time": "2.27ms", "client_ip": "127.0.0.1", "timestamp": "2025-09-03T16:53:00.471353+00:00"}
{"asctime": "2025-09-03 21:53:00", "levelname": "INFO", "name": "uvicorn.access", "message": "127.0.0.1:59391 - \"OPTIONS /api/auth/login HTTP/1.1\" 200", "timestamp": "2025-09-03T16:53:00.473110+00:00"}
{"asctime": "2025-09-03 21:53:08", "levelname": "ERROR", "name": "root", "message": "Login error", "exc_info": "Traceback (most recent call last):\n  File \"C:\\Users\\user\\Desktop\\metamed_backend\\.venv\\Lib\\site-packages\\sqlalchemy\\engine\\base.py\", line 143, in __init__\n    self._dbapi_connection = engine.raw_connection()\n                             ~~~~~~~~~~~~~~~~~~~~~^^\n  File \"C:\\Users\\user\\Desktop\\metamed_backend\\.venv\\Lib\\site-packages\\sqlalchemy\\engine\\base.py\", line 3301, in raw_connection\n    return self.pool.connect()\n           ~~~~~~~~~~~~~~~~~^^\n  File \"C:\\Users\\user\\Desktop\\metamed_backend\\.venv\\Lib\\site-packages\\sqlalchemy\\pool\\base.py\", line 447, in connect\n    return _ConnectionFairy._checkout(self)\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^\n  File \"C:\\Users\\user\\Desktop\\metamed_backend\\.venv\\Lib\\site-packages\\sqlalchemy\\pool\\base.py\", line 1264, in _checkout\n    fairy = _ConnectionRecord.checkout(pool)\n  File \"C:\\Users\\user\\Desktop\\metamed_backend\\.venv\\Lib\\site-packages\\sqlalchemy\\pool\\base.py\", line 711, in checkout\n    rec = pool._do_get()\n  File \"C:\\Users\\user\\Desktop\\metamed_backend\\.venv\\Lib\\site-packages\\sqlalchemy\\pool\\impl.py\", line 177, in _do_get\n    with util.safe_reraise():\n         ~~~~~~~~~~~~~~~~~^^\n  File \"C:\\Users\\user\\Desktop\\metamed_backend\\.venv\\Lib\\site-packages\\sqlalchemy\\util\\langhelpers.py\", line 224, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n  File \"C:\\Users\\user\\Desktop\\metamed_backend\\.venv\\Lib\\site-packages\\sqlalchemy\\pool\\impl.py\", line 175, in _do_get\n    return self._create_connection()\n           ~~~~~~~~~~~~~~~~~~~~~~~^^\n  File \"C:\\Users\\user\\Desktop\\metamed_backend\\.venv\\Lib\\site-packages\\sqlalchemy\\pool\\base.py\", line 388, in _create_connection\n    return _ConnectionRecord(self)\n  File \"C:\\Users\\user\\Desktop\\metamed_backend\\.venv\\Lib\\site-packages\\sqlalchemy\\pool\\base.py\", line 673, in __init__\n    self.__connect()\n    ~~~~~~~~~~~~~~^^\n  File \"C:\\Users\\user\\Desktop\\metamed_backend\\.venv\\Lib\\site-packages\\sqlalchemy\\pool\\base.py\", line 899, in __connect\n    with util.safe_reraise():\n         ~~~~~~~~~~~~~~~~~^^\n  File \"C:\\Users\\user\\Desktop\\metamed_backend\\.venv\\Lib\\site-packages\\sqlalchemy\\util\\langhelpers.py\", line 224, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n  File \"C:\\Users\\user\\Desktop\\metamed_backend\\.venv\\Lib\\site-packages\\sqlalchemy\\pool\\base.py\", line 895, in __connect\n    self.dbapi_connection = connection = pool._invoke_creator(self)\n                                         ~~~~~~~~~~~~~~~~~~~~^^^^^^\n  File \"C:\\Users\\user\\Desktop\\metamed_backend\\.venv\\Lib\\site-packages\\sqlalchemy\\engine\\create.py\", line 661, in connect\n    return dialect.connect(*cargs, **cparams)\n           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\user\\Desktop\\metamed_backend\\.venv\\Lib\\site-packages\\sqlalchemy\\engine\\default.py\", line 629, in connect\n    return self.loaded_dbapi.connect(*cargs, **cparams)  # type: ignore[no-any-return]  # NOQA: E501\n           ~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\user\\Desktop\\metamed_backend\\.venv\\Lib\\site-packages\\psycopg2\\__init__.py\", line 135, in connect\n    conn = _connect(dsn, connection_factory=connection_factory, **kwasync)\npsycopg2.OperationalError: could not translate host name \"medicaldatabasecredentials-do-user-24924231-0.j.db.ondigitalocean.com\" to address: Name or service not known\n\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"C:\\Users\\user\\Desktop\\metamed_backend\\api\\auth.py\", line 246, in login_for_access_token\n    user = authenticate_user(db, login_data.email, login_data.password, login_data.role)\n  File \"C:\\Users\\user\\Desktop\\metamed_backend\\api\\auth.py\", line 123, in authenticate_user\n    user = db.query(User).filter(User.email == email, User.role == role).first()\n  File \"C:\\Users\\user\\Desktop\\metamed_backend\\.venv\\Lib\\site-packages\\sqlalchemy\\orm\\query.py\", line 2759, in first\n    return self.limit(1)._iter().first()  # type: ignore\n           ~~~~~~~~~~~~~~~~~~~^^\n  File \"C:\\Users\\user\\Desktop\\metamed_backend\\.venv\\Lib\\site-packages\\sqlalchemy\\orm\\query.py\", line 2857, in _iter\n    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(\n                                                  ~~~~~~~~~~~~~~~~~~~~^\n        statement,\n        ^^^^^^^^^^\n        params,\n        ^^^^^^^\n        execution_options={\"_sa_orm_load_options\": self.load_options},\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"C:\\Users\\user\\Desktop\\metamed_backend\\.venv\\Lib\\site-packages\\sqlalchemy\\orm\\session.py\", line 2365, in execute\n    return self._execute_internal(\n           ~~~~~~~~~~~~~~~~~~~~~~^\n        statement,\n        ^^^^^^^^^^\n    ...<4 lines>...\n        _add_event=_add_event,\n        ^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"C:\\Users\\user\\Desktop\\metamed_backend\\.venv\\Lib\\site-packages\\sqlalchemy\\orm\\session.py\", line 2241, in _execute_internal\n    conn = self._connection_for_bind(bind)\n  File \"C:\\Users\\user\\Desktop\\metamed_backend\\.venv\\Lib\\site-packages\\sqlalchemy\\orm\\session.py\", line 2110, in _connection_for_bind\n    return trans._connection_for_bind(engine, execution_options)\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"<string>\", line 2, in _connection_for_bind\n  File \"C:\\Users\\user\\Desktop\\metamed_backend\\.venv\\Lib\\site-packages\\sqlalchemy\\orm\\state_changes.py\", line 137, in _go\n    ret_value = fn(self, *arg, **kw)\n  File \"C:\\Users\\user\\Desktop\\metamed_backend\\.venv\\Lib\\site-packages\\sqlalchemy\\orm\\session.py\", line 1189, in _connection_for_bind\n    conn = bind.connect()\n  File \"C:\\Users\\user\\Desktop\\metamed_backend\\.venv\\Lib\\site-packages\\sqlalchemy\\engine\\base.py\", line 3277, in connect\n    return self._connection_cls(self)\n           ~~~~~~~~~~~~~~~~~~~~^^^^^^\n  File \"C:\\Users\\user\\Desktop\\metamed_backend\\.venv\\Lib\\site-packages\\sqlalchemy\\engine\\base.py\", line 145, in __init__\n    Connection._handle_dbapi_exception_noconnection(\n    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n        err, dialect, engine\n        ^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"C:\\Users\\user\\Desktop\\metamed_backend\\.venv\\Lib\\site-packages\\sqlalchemy\\engine\\base.py\", line 2440, in _handle_dbapi_exception_noconnection\n    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e\n  File \"C:\\Users\\user\\Desktop\\metamed_backend\\.venv\\Lib\\site-packages\\sqlalchemy\\engine\\base.py\", line 143, in __init__\n    self._dbapi_connection = engine.raw_connection()\n                             ~~~~~~~~~~~~~~~~~~~~~^^\n  File \"C:\\Users\\user\\Desktop\\metamed_backend\\.venv\\Lib\\site-packages\\sqlalchemy\\engine\\base.py\", line 3301, in raw_connection\n    return self.pool.connect()\n           ~~~~~~~~~~~~~~~~~^^\n  File \"C:\\Users\\user\\Desktop\\metamed_backend\\.venv\\Lib\\site-packages\\sqlalchemy\\pool\\base.py\", line 447, in connect\n    return _ConnectionFairy._checkout(self)\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^\n  File \"C:\\Users\\user\\Desktop\\metamed_backend\\.venv\\Lib\\site-packages\\sqlalchemy\\pool\\base.py\", line 1264, in _checkout\n    fairy = _ConnectionRecord.checkout(pool)\n  File \"C:\\Users\\user\\Desktop\\metamed_backend\\.venv\\Lib\\site-packages\\sqlalchemy\\pool\\base.py\", line 711, in checkout\n    rec = pool._do_get()\n  File \"C:\\Users\\user\\Desktop\\metamed_backend\\.venv\\Lib\\site-packages\\sqlalchemy\\pool\\impl.py\", line 177, in _do_get\n    with util.safe_reraise():\n         ~~~~~~~~~~~~~~~~~^^\n  File \"C:\\Users\\user\\Desktop\\metamed_backend\\.venv\\Lib\\site-packages\\sqlalchemy\\util\\langhelpers.py\", line 224, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n  File \"C:\\Users\\user\\Desktop\\metamed_backend\\.venv\\Lib\\site-packages\\sqlalchemy\\pool\\impl.py\", line 175, in _do_get\n    return self._create_connection()\n           ~~~~~~~~~~~~~~~~~~~~~~~^^\n  File \"C:\\Users\\user\\Desktop\\metamed_backend\\.venv\\Lib\\site-packages\\sqlalchemy\\pool\\base.py\", line 388, in _create_connection\n    return _ConnectionRecord(self)\n  File \"C:\\Users\\user\\Desktop\\metamed_backend\\.venv\\Lib\\site-packages\\sqlalchemy\\pool\\base.py\", line 673, in __init__\n    self.__connect()\n    ~~~~~~~~~~~~~~^^\n  File \"C:\\Users\\user\\Desktop\\metamed_backend\\.venv\\Lib\\site-packages\\sqlalchemy\\pool\\base.py\", line 899, in __connect\n    with util.safe_reraise():\n         ~~~~~~~~~~~~~~~~~^^\n  File \"C:\\Users\\user\\Desktop\\metamed_backend\\.venv\\Lib\\site-packages\\sqlalchemy\\util\\langhelpers.py\", line 224, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n  File \"C:\\Users\\user\\Desktop\\metamed_backend\\.venv\\Lib\\site-packages\\sqlalchemy\\pool\\base.py\", line 895, in __connect\n    self.dbapi_connection = connection = pool._invoke_creator(self)\n                                         ~~~~~~~~~~~~~~~~~~~~^^^^^^\n  File \"C:\\Users\\user\\Desktop\\metamed_backend\\.venv\\Lib\\site-packages\\sqlalchemy\\engine\\create.py\", line 661, in connect\n    return dialect.connect(*cargs, **cparams)\n           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\user\\Desktop\\metamed_backend\\.venv\\Lib\\site-packages\\sqlalchemy\\engine\\default.py\", line 629, in connect\n    return self.loaded_dbapi.connect(*cargs, **cparams)  # type: ignore[no-any-return]  # NOQA: E501\n           ~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\user\\Desktop\\metamed_backend\\.venv\\Lib\\site-packages\\psycopg2\\__init__.py\", line 135, in connect\n    conn = _connect(dsn, connection_factory=connection_factory, **kwasync)\nsqlalchemy.exc.OperationalError: (psycopg2.OperationalError) could not translate host name \"medicaldatabasecredentials-do-user-24924231-0.j.db.ondigitalocean.com\" to address: Name or service not known\n\n(Background on this error at: https://sqlalche.me/e/20/e3q8)", "error": "(psycopg2.OperationalError) could not translate host name \"medicaldatabasecredentials-do-user-24924231-0.j.db.ondigitalocean.com\" to address: Name or service not known\n\n(Background on this error at: https://sqlalche.me/e/20/e3q8)", "email": "touseeqahmed2343@gmail.com", "client_ip": "127.0.0.1", "timestamp": "2025-09-03T16:53:08.557142+00:00"}
{"asctime": "2025-09-03 21:53:08", "levelname": "INFO", "name": "root", "message": "Request completed", "path": "/api/auth/login", "method": "POST", "status_code": 500, "process_time": "8127.10ms", "client_ip": "127.0.0.1", "timestamp": "2025-09-03T16:53:08.615291+00:00"}
{"asctime": "2025-09-03 21:53:08", "levelname": "INFO", "name": "uvicorn.access", "message": "127.0.0.1:57962 - \"POST /api/auth/login HTTP/1.1\" 500", "timestamp": "2025-09-03T16:53:08.616924+00:00"}
{"asctime": "2025-09-03 21:54:09", "levelname": "ERROR", "name": "root", "message": "Login error", "exc_info": "Traceback (most recent call last):\n  File \"C:\\Users\\user\\Desktop\\metamed_backend\\.venv\\Lib\\site-packages\\sqlalchemy\\engine\\base.py\", line 143, in __init__\n    self._dbapi_connection = engine.raw_connection()\n                             ~~~~~~~~~~~~~~~~~~~~~^^\n  File \"C:\\Users\\user\\Desktop\\metamed_backend\\.venv\\Lib\\site-packages\\sqlalchemy\\engine\\base.py\", line 3301, in raw_connection\n    return self.pool.connect()\n           ~~~~~~~~~~~~~~~~~^^\n  File \"C:\\Users\\user\\Desktop\\metamed_backend\\.venv\\Lib\\site-packages\\sqlalchemy\\pool\\base.py\", line 447, in connect\n    return _ConnectionFairy._checkout(self)\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^\n  File \"C:\\Users\\user\\Desktop\\metamed_backend\\.venv\\Lib\\site-packages\\sqlalchemy\\pool\\base.py\", line 1264, in _checkout\n    fairy = _ConnectionRecord.checkout(pool)\n  File \"C:\\Users\\user\\Desktop\\metamed_backend\\.venv\\Lib\\site-packages\\sqlalchemy\\pool\\base.py\", line 711, in checkout\n    rec = pool._do_get()\n  File \"C:\\Users\\user\\Desktop\\metamed_backend\\.venv\\Lib\\site-packages\\sqlalchemy\\pool\\impl.py\", line 177, in _do_get\n    with util.safe_reraise():\n         ~~~~~~~~~~~~~~~~~^^\n  File \"C:\\Users\\user\\Desktop\\metamed_backend\\.venv\\Lib\\site-packages\\sqlalchemy\\util\\langhelpers.py\", line 224, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n  File \"C:\\Users\\user\\Desktop\\metamed_backend\\.venv\\Lib\\site-packages\\sqlalchemy\\pool\\impl.py\", line 175, in _do_get\n    return self._create_connection()\n           ~~~~~~~~~~~~~~~~~~~~~~~^^\n  File \"C:\\Users\\user\\Desktop\\metamed_backend\\.venv\\Lib\\site-packages\\sqlalchemy\\pool\\base.py\", line 388, in _create_connection\n    return _ConnectionRecord(self)\n  File \"C:\\Users\\user\\Desktop\\metamed_backend\\.venv\\Lib\\site-packages\\sqlalchemy\\pool\\base.py\", line 673, in __init__\n    self.__connect()\n    ~~~~~~~~~~~~~~^^\n  File \"C:\\Users\\user\\Desktop\\metamed_backend\\.venv\\Lib\\site-packages\\sqlalchemy\\pool\\base.py\", line 899, in __connect\n    with util.safe_reraise():\n         ~~~~~~~~~~~~~~~~~^^\n  File \"C:\\Users\\user\\Desktop\\metamed_backend\\.venv\\Lib\\site-packages\\sqlalchemy\\util\\langhelpers.py\", line 224, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n  File \"C:\\Users\\user\\Desktop\\metamed_backend\\.venv\\Lib\\site-packages\\sqlalchemy\\pool\\base.py\", line 895, in __connect\n    self.dbapi_connection = connection = pool._invoke_creator(self)\n                                         ~~~~~~~~~~~~~~~~~~~~^^^^^^\n  File \"C:\\Users\\user\\Desktop\\metamed_backend\\.venv\\Lib\\site-packages\\sqlalchemy\\engine\\create.py\", line 661, in connect\n    return dialect.connect(*cargs, **cparams)\n           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\user\\Desktop\\metamed_backend\\.venv\\Lib\\site-packages\\sqlalchemy\\engine\\default.py\", line 629, in connect\n    return self.loaded_dbapi.connect(*cargs, **cparams)  # type: ignore[no-any-return]  # NOQA: E501\n           ~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\user\\Desktop\\metamed_backend\\.venv\\Lib\\site-packages\\psycopg2\\__init__.py\", line 135, in connect\n    conn = _connect(dsn, connection_factory=connection_factory, **kwasync)\npsycopg2.OperationalError: could not translate host name \"medicaldatabasecredentials-do-user-24924231-0.j.db.ondigitalocean.com\" to address: Name or service not known\n\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"C:\\Users\\user\\Desktop\\metamed_backend\\api\\auth.py\", line 246, in login_for_access_token\n    user = authenticate_user(db, login_data.email, login_data.password, login_data.role)\n  File \"C:\\Users\\user\\Desktop\\metamed_backend\\api\\auth.py\", line 123, in authenticate_user\n    user = db.query(User).filter(User.email == email, User.role == role).first()\n  File \"C:\\Users\\user\\Desktop\\metamed_backend\\.venv\\Lib\\site-packages\\sqlalchemy\\orm\\query.py\", line 2759, in first\n    return self.limit(1)._iter().first()  # type: ignore\n           ~~~~~~~~~~~~~~~~~~~^^\n  File \"C:\\Users\\user\\Desktop\\metamed_backend\\.venv\\Lib\\site-packages\\sqlalchemy\\orm\\query.py\", line 2857, in _iter\n    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(\n                                                  ~~~~~~~~~~~~~~~~~~~~^\n        statement,\n        ^^^^^^^^^^\n        params,\n        ^^^^^^^\n        execution_options={\"_sa_orm_load_options\": self.load_options},\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"C:\\Users\\user\\Desktop\\metamed_backend\\.venv\\Lib\\site-packages\\sqlalchemy\\orm\\session.py\", line 2365, in execute\n    return self._execute_internal(\n           ~~~~~~~~~~~~~~~~~~~~~~^\n        statement,\n        ^^^^^^^^^^\n    ...<4 lines>...\n        _add_event=_add_event,\n        ^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"C:\\Users\\user\\Desktop\\metamed_backend\\.venv\\Lib\\site-packages\\sqlalchemy\\orm\\session.py\", line 2241, in _execute_internal\n    conn = self._connection_for_bind(bind)\n  File \"C:\\Users\\user\\Desktop\\metamed_backend\\.venv\\Lib\\site-packages\\sqlalchemy\\orm\\session.py\", line 2110, in _connection_for_bind\n    return trans._connection_for_bind(engine, execution_options)\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"<string>\", line 2, in _connection_for_bind\n  File \"C:\\Users\\user\\Desktop\\metamed_backend\\.venv\\Lib\\site-packages\\sqlalchemy\\orm\\state_changes.py\", line 137, in _go\n    ret_value = fn(self, *arg, **kw)\n  File \"C:\\Users\\user\\Desktop\\metamed_backend\\.venv\\Lib\\site-packages\\sqlalchemy\\orm\\session.py\", line 1189, in _connection_for_bind\n    conn = bind.connect()\n  File \"C:\\Users\\user\\Desktop\\metamed_backend\\.venv\\Lib\\site-packages\\sqlalchemy\\engine\\base.py\", line 3277, in connect\n    return self._connection_cls(self)\n           ~~~~~~~~~~~~~~~~~~~~^^^^^^\n  File \"C:\\Users\\user\\Desktop\\metamed_backend\\.venv\\Lib\\site-packages\\sqlalchemy\\engine\\base.py\", line 145, in __init__\n    Connection._handle_dbapi_exception_noconnection(\n    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n        err, dialect, engine\n        ^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"C:\\Users\\user\\Desktop\\metamed_backend\\.venv\\Lib\\site-packages\\sqlalchemy\\engine\\base.py\", line 2440, in _handle_dbapi_exception_noconnection\n    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e\n  File \"C:\\Users\\user\\Desktop\\metamed_backend\\.venv\\Lib\\site-packages\\sqlalchemy\\engine\\base.py\", line 143, in __init__\n    self._dbapi_connection = engine.raw_connection()\n                             ~~~~~~~~~~~~~~~~~~~~~^^\n  File \"C:\\Users\\user\\Desktop\\metamed_backend\\.venv\\Lib\\site-packages\\sqlalchemy\\engine\\base.py\", line 3301, in raw_connection\n    return self.pool.connect()\n           ~~~~~~~~~~~~~~~~~^^\n  File \"C:\\Users\\user\\Desktop\\metamed_backend\\.venv\\Lib\\site-packages\\sqlalchemy\\pool\\base.py\", line 447, in connect\n    return _ConnectionFairy._checkout(self)\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^\n  File \"C:\\Users\\user\\Desktop\\metamed_backend\\.venv\\Lib\\site-packages\\sqlalchemy\\pool\\base.py\", line 1264, in _checkout\n    fairy = _ConnectionRecord.checkout(pool)\n  File \"C:\\Users\\user\\Desktop\\metamed_backend\\.venv\\Lib\\site-packages\\sqlalchemy\\pool\\base.py\", line 711, in checkout\n    rec = pool._do_get()\n  File \"C:\\Users\\user\\Desktop\\metamed_backend\\.venv\\Lib\\site-packages\\sqlalchemy\\pool\\impl.py\", line 177, in _do_get\n    with util.safe_reraise():\n         ~~~~~~~~~~~~~~~~~^^\n  File \"C:\\Users\\user\\Desktop\\metamed_backend\\.venv\\Lib\\site-packages\\sqlalchemy\\util\\langhelpers.py\", line 224, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n  File \"C:\\Users\\user\\Desktop\\metamed_backend\\.venv\\Lib\\site-packages\\sqlalchemy\\pool\\impl.py\", line 175, in _do_get\n    return self._create_connection()\n           ~~~~~~~~~~~~~~~~~~~~~~~^^\n  File \"C:\\Users\\user\\Desktop\\metamed_backend\\.venv\\Lib\\site-packages\\sqlalchemy\\pool\\base.py\", line 388, in _create_connection\n    return _ConnectionRecord(self)\n  File \"C:\\Users\\user\\Desktop\\metamed_backend\\.venv\\Lib\\site-packages\\sqlalchemy\\pool\\base.py\", line 673, in __init__\n    self.__connect()\n    ~~~~~~~~~~~~~~^^\n  File \"C:\\Users\\user\\Desktop\\metamed_backend\\.venv\\Lib\\site-packages\\sqlalchemy\\pool\\base.py\", line 899, in __connect\n    with util.safe_reraise():\n         ~~~~~~~~~~~~~~~~~^^\n  File \"C:\\Users\\user\\Desktop\\metamed_backend\\.venv\\Lib\\site-packages\\sqlalchemy\\util\\langhelpers.py\", line 224, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n  File \"C:\\Users\\user\\Desktop\\metamed_backend\\.venv\\Lib\\site-packages\\sqlalchemy\\pool\\base.py\", line 895, in __connect\n    self.dbapi_connection = connection = pool._invoke_creator(self)\n                                         ~~~~~~~~~~~~~~~~~~~~^^^^^^\n  File \"C:\\Users\\user\\Desktop\\metamed_backend\\.venv\\Lib\\site-packages\\sqlalchemy\\engine\\create.py\", line 661, in connect\n    return dialect.connect(*cargs, **cparams)\n           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\user\\Desktop\\metamed_backend\\.venv\\Lib\\site-packages\\sqlalchemy\\engine\\default.py\", line 629, in connect\n    return self.loaded_dbapi.connect(*cargs, **cparams)  # type: ignore[no-any-return]  # NOQA: E501\n           ~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\user\\Desktop\\metamed_backend\\.venv\\Lib\\site-packages\\psycopg2\\__init__.py\", line 135, in connect\n    conn = _connect(dsn, connection_factory=connection_factory, **kwasync)\nsqlalchemy.exc.OperationalError: (psycopg2.OperationalError) could not translate host name \"medicaldatabasecredentials-do-user-24924231-0.j.db.ondigitalocean.com\" to address: Name or service not known\n\n(Background on this error at: https://sqlalche.me/e/20/e3q8)", "error": "(psycopg2.OperationalError) could not translate host name \"medicaldatabasecredentials-do-user-24924231-0.j.db.ondigitalocean.com\" to address: Name or service not known\n\n(Background on this error at: https://sqlalche.me/e/20/e3q8)", "email": "touseeqahmed2343@gmail.com", "client_ip": "127.0.0.1", "timestamp": "2025-09-03T16:54:09.555510+00:00"}
{"asctime": "2025-09-03 21:54:09", "levelname": "INFO", "name": "root", "message": "Request completed", "path": "/api/auth/login", "method": "POST", "status_code": 500, "process_time": "7966.46ms", "client_ip": "127.0.0.1", "timestamp": "2025-09-03T16:54:09.647070+00:00"}
{"asctime": "2025-09-03 21:54:09", "levelname": "INFO", "name": "uvicorn.access", "message": "127.0.0.1:56751 - \"POST /api/auth/login HTTP/1.1\" 500", "timestamp": "2025-09-03T16:54:09.648130+00:00"}
{"asctime": "2025-09-03 22:00:05", "levelname": "WARNING", "name": "passlib.handlers.bcrypt", "message": "(trapped) error reading bcrypt version", "exc_info": "Traceback (most recent call last):\n  File \"C:\\Users\\user\\Desktop\\metamed_backend\\.venv\\Lib\\site-packages\\passlib\\handlers\\bcrypt.py\", line 620, in _load_backend_mixin\n    version = _bcrypt.__about__.__version__\n              ^^^^^^^^^^^^^^^^^\nAttributeError: module 'bcrypt' has no attribute '__about__'", "timestamp": "2025-09-03T17:00:05.764646+00:00"}
{"asctime": "2025-09-03 22:00:06", "levelname": "INFO", "name": "root", "message": "User logged in successfully", "email": "alianahmed318@gmail.com", "role": "patient", "client_ip": "127.0.0.1", "timestamp": "2025-09-03T17:00:06.478090+00:00"}
{"asctime": "2025-09-03 22:00:06", "levelname": "INFO", "name": "root", "message": "Request completed", "path": "/api/auth/login", "method": "POST", "status_code": 200, "process_time": "8573.13ms", "client_ip": "127.0.0.1", "timestamp": "2025-09-03T17:00:06.767967+00:00"}
{"asctime": "2025-09-03 22:00:06", "levelname": "INFO", "name": "uvicorn.access", "message": "127.0.0.1:59824 - \"POST /api/auth/login HTTP/1.1\" 200", "timestamp": "2025-09-03T17:00:06.769290+00:00"}
{"asctime": "2025-09-03 22:00:20", "levelname": "INFO", "name": "root", "message": "Request completed", "path": "/api/admin/articles", "method": "GET", "status_code": 200, "process_time": "886.99ms", "client_ip": "127.0.0.1", "timestamp": "2025-09-03T17:00:20.412214+00:00"}
{"asctime": "2025-09-03 22:00:20", "levelname": "INFO", "name": "uvicorn.access", "message": "127.0.0.1:52426 - \"GET /api/admin/articles HTTP/1.1\" 200", "timestamp": "2025-09-03T17:00:20.413572+00:00"}
{"asctime": "2025-09-03 22:00:21", "levelname": "INFO", "name": "root", "message": "Request completed", "path": "/api/admin/articles", "method": "GET", "status_code": 200, "process_time": "839.77ms", "client_ip": "127.0.0.1", "timestamp": "2025-09-03T17:00:21.262488+00:00"}
{"asctime": "2025-09-03 22:00:21", "levelname": "INFO", "name": "uvicorn.access", "message": "127.0.0.1:52426 - \"GET /api/admin/articles HTTP/1.1\" 200", "timestamp": "2025-09-03T17:00:21.263484+00:00"}
{"asctime": "2025-09-03 22:00:25", "levelname": "INFO", "name": "root", "message": "Request completed", "path": "/api/chat/patient/stream", "method": "OPTIONS", "status_code": 200, "process_time": "0.80ms", "client_ip": "127.0.0.1", "timestamp": "2025-09-03T17:00:25.751031+00:00"}
{"asctime": "2025-09-03 22:00:25", "levelname": "INFO", "name": "uvicorn.access", "message": "127.0.0.1:52426 - \"OPTIONS /api/chat/patient/stream HTTP/1.1\" 200", "timestamp": "2025-09-03T17:00:25.752540+00:00"}
{"asctime": "2025-09-03 22:00:30", "levelname": "INFO", "name": "httpx", "message": "HTTP Request: POST https://api.openai.com/v1/chat/completions \"HTTP/1.1 200 OK\"", "timestamp": "2025-09-03T17:00:30.381533+00:00"}
{"asctime": "2025-09-03 22:00:30", "levelname": "INFO", "name": "root", "message": "Request completed", "path": "/api/chat/patient/stream", "method": "POST", "status_code": 200, "process_time": "4685.30ms", "client_ip": "127.0.0.1", "timestamp": "2025-09-03T17:00:30.450040+00:00"}
{"asctime": "2025-09-03 22:00:30", "levelname": "INFO", "name": "uvicorn.access", "message": "127.0.0.1:52426 - \"POST /api/chat/patient/stream HTTP/1.1\" 200", "timestamp": "2025-09-03T17:00:30.451403+00:00"}
{"asctime": "2025-09-03 22:01:21", "levelname": "INFO", "name": "root", "message": "User logged in successfully", "email": "touseeqahmed2343@gmail.com", "role": "admin", "client_ip": "127.0.0.1", "timestamp": "2025-09-03T17:01:21.184595+00:00"}
{"asctime": "2025-09-03 22:01:21", "levelname": "INFO", "name": "root", "message": "Request completed", "path": "/api/auth/login", "method": "POST", "status_code": 200, "process_time": "3550.93ms", "client_ip": "127.0.0.1", "timestamp": "2025-09-03T17:01:21.495487+00:00"}
{"asctime": "2025-09-03 22:01:21", "levelname": "INFO", "name": "uvicorn.access", "message": "127.0.0.1:54074 - \"POST /api/auth/login HTTP/1.1\" 200", "timestamp": "2025-09-03T17:01:21.496770+00:00"}
{"asctime": "2025-09-03 22:01:30", "levelname": "INFO", "name": "root", "message": "Request completed", "path": "/api/admin/users", "method": "GET", "status_code": 200, "process_time": "4830.48ms", "client_ip": "127.0.0.1", "timestamp": "2025-09-03T17:01:30.310669+00:00"}
{"asctime": "2025-09-03 22:01:30", "levelname": "INFO", "name": "uvicorn.access", "message": "127.0.0.1:58653 - \"GET /api/admin/users HTTP/1.1\" 200", "timestamp": "2025-09-03T17:01:30.311857+00:00"}
{"asctime": "2025-09-03 22:01:31", "levelname": "INFO", "name": "root", "message": "Request completed", "path": "/api/admin/articles", "method": "GET", "status_code": 200, "process_time": "4589.54ms", "client_ip": "127.0.0.1", "timestamp": "2025-09-03T17:01:31.902578+00:00"}
{"asctime": "2025-09-03 22:01:31", "levelname": "INFO", "name": "uvicorn.access", "message": "127.0.0.1:62679 - \"GET /api/admin/articles HTTP/1.1\" 200", "timestamp": "2025-09-03T17:01:31.903501+00:00"}
{"asctime": "2025-09-03 22:01:32", "levelname": "INFO", "name": "root", "message": "Request completed", "path": "/api/admin/users", "method": "GET", "status_code": 200, "process_time": "2352.97ms", "client_ip": "127.0.0.1", "timestamp": "2025-09-03T17:01:32.671908+00:00"}
{"asctime": "2025-09-03 22:01:32", "levelname": "INFO", "name": "uvicorn.access", "message": "127.0.0.1:58653 - \"GET /api/admin/users HTTP/1.1\" 200", "timestamp": "2025-09-03T17:01:32.673270+00:00"}
{"asctime": "2025-09-03 22:01:33", "levelname": "INFO", "name": "root", "message": "Request completed", "path": "/api/admin/articles", "method": "GET", "status_code": 200, "process_time": "1125.28ms", "client_ip": "127.0.0.1", "timestamp": "2025-09-03T17:01:33.034953+00:00"}
{"asctime": "2025-09-03 22:01:33", "levelname": "INFO", "name": "uvicorn.access", "message": "127.0.0.1:62679 - \"GET /api/admin/articles HTTP/1.1\" 200", "timestamp": "2025-09-03T17:01:33.035941+00:00"}
{"asctime": "2025-09-03 22:02:24", "levelname": "INFO", "name": "root", "message": "Request completed", "path": "/api/admin/articles", "method": "OPTIONS", "status_code": 200, "process_time": "0.76ms", "client_ip": "127.0.0.1", "timestamp": "2025-09-03T17:02:24.751192+00:00"}
{"asctime": "2025-09-03 22:02:24", "levelname": "INFO", "name": "uvicorn.access", "message": "127.0.0.1:58014 - \"OPTIONS /api/admin/articles HTTP/1.1\" 200", "timestamp": "2025-09-03T17:02:24.752193+00:00"}
{"asctime": "2025-09-03 22:02:27", "levelname": "INFO", "name": "root", "message": "Request completed", "path": "/api/admin/articles", "method": "POST", "status_code": 201, "process_time": "2476.38ms", "client_ip": "127.0.0.1", "timestamp": "2025-09-03T17:02:27.237049+00:00"}
{"asctime": "2025-09-03 22:02:27", "levelname": "INFO", "name": "uvicorn.access", "message": "127.0.0.1:58014 - \"POST /api/admin/articles HTTP/1.1\" 201", "timestamp": "2025-09-03T17:02:27.237992+00:00"}
{"asctime": "2025-09-03 22:02:52", "levelname": "INFO", "name": "root", "message": "User logged in successfully", "email": "alianahmed318@gmail.com", "role": "patient", "client_ip": "127.0.0.1", "timestamp": "2025-09-03T17:02:52.188040+00:00"}
{"asctime": "2025-09-03 22:02:52", "levelname": "INFO", "name": "root", "message": "Request completed", "path": "/api/auth/login", "method": "POST", "status_code": 200, "process_time": "3820.21ms", "client_ip": "127.0.0.1", "timestamp": "2025-09-03T17:02:52.530905+00:00"}
{"asctime": "2025-09-03 22:02:52", "levelname": "INFO", "name": "uvicorn.access", "message": "127.0.0.1:64721 - \"POST /api/auth/login HTTP/1.1\" 200", "timestamp": "2025-09-03T17:02:52.531740+00:00"}
{"asctime": "2025-09-03 22:03:01", "levelname": "INFO", "name": "root", "message": "Request completed", "path": "/api/admin/articles", "method": "GET", "status_code": 200, "process_time": "999.28ms", "client_ip": "127.0.0.1", "timestamp": "2025-09-03T17:03:01.004395+00:00"}
{"asctime": "2025-09-03 22:03:01", "levelname": "INFO", "name": "uvicorn.access", "message": "127.0.0.1:51575 - \"GET /api/admin/articles HTTP/1.1\" 200", "timestamp": "2025-09-03T17:03:01.005860+00:00"}
{"asctime": "2025-09-03 22:03:01", "levelname": "INFO", "name": "root", "message": "Request completed", "path": "/api/admin/articles", "method": "GET", "status_code": 200, "process_time": "978.14ms", "client_ip": "127.0.0.1", "timestamp": "2025-09-03T17:03:01.994323+00:00"}
{"asctime": "2025-09-03 22:03:01", "levelname": "INFO", "name": "uvicorn.access", "message": "127.0.0.1:51575 - \"GET /api/admin/articles HTTP/1.1\" 200", "timestamp": "2025-09-03T17:03:01.995416+00:00"}
